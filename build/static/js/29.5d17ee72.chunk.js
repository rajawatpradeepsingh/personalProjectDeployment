(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[29],{1046:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(75),o=a(106),r=a(16),s=a.n(r),l=a(25),i=a(13),d=a(220),u=a(95),y=a(96),b=a(63),m=a(112),h=a(35),v=a(137),j=a(66),C=a(27),p=a(853),g=a(306),O=a(219),x=a(218),f=a(152),S=(a(975),a(1));t.default=()=>{const e={firstName:"",lastName:"",city:"",country:"",state:"",postalCode:"",phoneNumber:"",email:"",client:"",clientName:"",clientId:"",totalExperience:"",interviewSkills:""},[t,a]=Object(n.useState)(e),[r,N]=Object(n.useState)(!1),[w,E]=Object(n.useState)([]),[k,q]=Object(n.useState)([]),[A]=Object(n.useState)(i.a.getHeaders()),[I,L]=Object(n.useState)({}),[M,D]=Object(n.useState)(""),P=Object(c.useHistory)(),[R,_]=Object(n.useState)(!0),[U,F]=Object(n.useState)(!1);Object(n.useEffect)((()=>{Object(b.e)("primeSkills",A).then((e=>q(e))).catch((e=>console.log(e)))}),[A]);const{client:H,postalCode:J,phoneNumber:T,email:Z,totalExperience:V}=t,W=Object(n.useCallback)((()=>{s.a.get("".concat(l.a.serverURL,"/clients"),{headers:A}).then((e=>{e.data&&E(e.data)})).catch((e=>console.log(e)))}),[A]);Object(n.useEffect)((()=>{W()}),[W]);const z=function(e){var n;let c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===(n=e.preventDefault)||void 0===n||n.call(e);const o=e.target.max?+e.target.max:null,r=Object(u.a)(c,e.target.value,o),s=""===e.target.value;if(a({...t,[e.target.name]:e.target.value}),r){if(r||s){let t={...I};delete t[e.target.name],L({inputErr:t})}}else L({...I,[e.target.name]:"Invalid format or characters"})},B=()=>{N(!1)};return Object(S.jsxs)(O.a,{children:[Object(S.jsx)(f.a,{onActive:()=>{_(!0)},onIdle:()=>{_(!1)},onLogout:()=>{F(!0)}}),Object(S.jsx)(x.a,{breadcrumbs:Object(S.jsx)(g.a,{className:"header",crumbs:[{id:0,text:"Interviewers",onClick:()=>{P.push("/viewinterviewers")}},{id:1,text:"Add Interviewer",lastCrumb:!0}]})}),Object(S.jsxs)(v.a,{children:[Object(S.jsxs)(j.a,{cancel:()=>{a(e)},onSubmit:n=>{n.preventDefault();const c={firstName:t.firstName,lastName:t.lastName,client:""===t.client?null:{id:t.client},phone_no:t.phoneNumber,email:t.email,interview_skills:t.interviewSkills,client_name:t.clientName,total_experience:t.totalExperience,address:{city:t.city,country:t.country,countryCode:t.countryCode,state:t.state,stateCode:(null===t||void 0===t?void 0:t.stateCode)||"",postalCode:t.postalCode}};s.a.post("".concat(l.a.serverURL,"/interviewer"),c,{headers:A}).then((t=>{201===t.status&&(N(!0),a(e),M(""))})).catch((e=>{e.response&&409===e.response.status&&(D(e.res.data),N(!0)),e.response&&401===e.response.status&&i.a.logout()}))},formEnabled:!0,children:[Object(S.jsx)(C.a,{type:"text",label:"First Name",name:"firstName",value:t.firstName,onChange:e=>z(e,"validateName"),maxLength:"40",required:!0,errMssg:I.firstName}),Object(S.jsx)(C.a,{type:"text",label:"Last Name",name:"lastName",value:t.lastName,onChange:e=>z(e,"validateName"),maxLength:"40",required:!0,errMssg:I.lastName}),Object(S.jsx)(h.a,{label:"Client",name:"clientId",value:H,onChange:e=>{e.preventDefault(),a({...t,client:e.target.value})},options:w.map((e=>{var t;return{id:e.id,name:"".concat(e.clientName," (").concat((null===(t=e.address)||void 0===t?void 0:t.city)||"",")")}})),required:!0}),Object(S.jsx)(d.a,{phoneNumber:T,handleChange:e=>{a({...t,phoneNumber:e})},label:"Phone Num."}),Object(S.jsx)(C.a,{type:"email",label:"E-mail",name:"email",value:Z,onChange:e=>z(e,"validateEmail"),title:"example@example.com",required:!0,errMssg:I.email}),Object(S.jsx)(p.a,{requiredCountry:!0,requiredCity:!0,handleAddressChange:e=>{const{country:n,state:c,city:o}=e;a({...t,country:n.country,countryCode:n.code,state:c.state,stateCode:c.code,city:o})},country:t.country||"",state:t.state||"",city:t.city||""}),Object(S.jsx)(C.a,{type:"text",label:"Zip Code",name:"postalCode",value:J,onChange:e=>z(e,"validateZip"),errMssg:I.postalCode,maxLength:"6"}),Object(S.jsx)(C.a,{type:"number",label:"Total Experience",name:"totalExperience",value:V,onChange:e=>z(e,"validateNum"),min:"0",max:"50",step:"any",errMssg:I.totalExperience,info:"Exp. in years",style:{textAlign:"right"},className:"alignRight"}),Object(S.jsx)(m.a,{label:"Interview Skills",options:k.map((e=>{var a;return{id:e.id,value:e.value,label:e.value,selected:null===(a=t.interviewSkills)||void 0===a?void 0:a.includes(e.value)}})),handleChange:e=>((e,t)=>{const a=e.filter((e=>e.selected)).map((e=>e.value)).join(",");z({target:{name:"interviewSkills",value:a||""}}),e.filter((e=>!e.id&&!e.isDeleted)).forEach((e=>{Object(b.h)(t,e.value,A).then((e=>q([...k,e]))).catch((e=>console.log(e)))})),e.filter((e=>e.isDeleted)).forEach((e=>{Object(b.a)(e.id,A).catch((e=>console.log(e)))}));const n=e.filter((e=>!e.isDeleted));q(n)})(e,"primeSkills"),isMulti:!0,creatable:!0,deletable:i.a.hasAdminRole()})]}),Object(S.jsx)(y.a,{openModal:r,type:M?"Warning":"Success",confirmValue:"Ok",handleConfirmClose:B,closePopUp:B,message:{title:M?"Error":"Interviewer Added Successfully",details:M?"An error ocurred while trying to save: ".concat(M):"To view interviewers go to "},link:M?"":Object(S.jsx)(o.b,{to:"/viewinterviewers",children:"Interviewers"})})]})]})}},853:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(0),c=a(138),o=a(35),r=a(27),s=(a(854),a(1));const l=e=>{const[t,a]=Object(n.useState)([]),[l,i]=Object(n.useState)([]),[d,u]=Object(n.useState)([]),[y,b]=Object(n.useState)({}),[m,h]=Object(n.useState)({});Object(n.useEffect)((()=>a(c.c())),[]),Object(n.useEffect)((()=>{e.countryCode&&i(c.d(e.countryCode)),e.countryCode&&e.stateCode&&u(c.a(e.countryCode,e.stateCode))}),[e.countryCode,e.stateCode]),Object(n.useEffect)((()=>{e.country||e.state||e.city||(i([]),u([]))}),[e.country,e.state,e.city]);const v=a=>{var n,o;const{name:r,selectedOptions:s,value:d}=a.target;switch(r){case"country":const a=t.length?t[(null===(n=s[0])||void 0===n?void 0:n.index)-1]:null;a&&(b({country:a.name,code:a.code}),e.handleAddressChange({country:{country:a.name,code:a.code},state:{state:"",stateCode:""},city:""}),i(c.d(a.code)),h({}),u([]));break;case"state":const r=l.length?l[(null===(o=s[0])||void 0===o?void 0:o.index)-1]:null;r?(h({state:r.name,code:r.code}),e.handleAddressChange({country:{country:e.country?e.country:y.country,code:e.countryCode?e.countryCode:y.code},state:{state:r.name,code:r.code},city:""}),u(c.a(e.countryCode?e.countryCode:y.code,r.code))):(h({state:d,code:""}),e.handleAddressChange({country:{country:e.country?e.country:y.country,code:e.countryCode?e.countryCode:y.code},state:{state:d,code:""},city:""}),u([]));break;case"city":e.handleAddressChange({country:{country:e.country?e.country:y.country,code:e.countryCode?e.countryCode:y.code},state:{state:e.state?e.state:m.state,code:e.stateCode?e.stateCode:m.code},city:d})}};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(o.a,{label:"Country",name:"country",value:e.country||"",onChange:v,placeholder:"Select Country",options:t,required:e.requiredCountry,disabled:e.disabled}),l.length?Object(s.jsx)(o.a,{label:"State / Province",name:"state",value:e.state||"",onChange:v,options:l,placeholder:"Select State/Province",required:e.requiredCountry,disabled:e.disabled}):Object(s.jsx)(r.a,{label:"State / Province",name:"state",value:e.state||"",onChange:v,placeholder:"Enter State/Province",required:e.requiredCountry,disabled:e.disabled,info:"Select country for options or enter state name"}),d.length?Object(s.jsx)(o.a,{label:"City",name:"city",value:e.city||"",onChange:v,options:d,placeholder:"Select City",required:e.requiredCity,disabled:e.disabled}):Object(s.jsx)(r.a,{type:"text",label:"City",name:"city",value:e.city||"",info:"Select state for options or enter city name",onChange:e=>v(e),maxLength:"40",required:e.requiredCity,disabled:e.disabled})]})}},854:function(e,t,a){},975:function(e,t,a){}}]);