(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[16],{1072:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(75),c=a(28),l=a(16),i=a.n(l),o=a(11),r=a.n(o),d=a(25),b=a(13),u=a(320),j=a(91),p=a(328),h=a(837),O=a(50),m=a(805),v=a(808),f=a(96),y=a(22),x=a(86),g=a(420),w=a(425),S=a(215),C=(a(973),a(1));const k=e=>{const[t]=Object(s.useState)(b.a.getHeaders()),a=JSON.parse(sessionStorage.getItem("userInfo")),n=Object(s.useMemo)((()=>[{value:"id",label:"Job Id",disabled:!1},{value:"title",label:"Job Title",disabled:!1},{value:"description",label:"Description",disabled:!1},{value:"clientName",label:"Client",disabled:!1},{value:"location",label:"Location",disabled:!1},{value:"openings",label:"Num. of Openings",disabled:!1},{value:"rate",label:"Bill Rate",disabled:!1},{value:"workType",label:"Work Type",disabled:!1}]),[]),[c,l]=Object(s.useState)(!1),[o,r]=Object(s.useState)([]),[u,j]=Object(s.useState)([]),[p,h]=Object(s.useState)([]),[O,m]=Object(s.useState)([]),[v,f]=Object(s.useState)([]),[y,k]=Object(s.useState)([]),[N,T]=Object(s.useState)(""),[I,R]=Object(s.useState)([]),[J,E]=Object(s.useState)(n),[M,H]=Object(s.useState)([]),[L,A]=Object(s.useState)([]),[D,B]=Object(s.useState)([]);Object(s.useEffect)((()=>{e.jobs.length>0&&(A(e.jobs.map((e=>({value:"".concat(e.id," / ").concat(e.jobTitle),label:"".concat(e.jobTitle)})))),H(e.jobs.map((e=>({value:"".concat(e.id," / ").concat(e.jobTitle),label:"".concat(e.jobTitle)})))),B(e.jobs))}),[e.jobs]),Object(s.useEffect)((()=>{let e;e=M.length>2?u.length?n.map((e=>"description"===e.value||"openings"===e.value?{...e,disabled:!0}:e)):n.map((e=>"description"===e.value?{...e,disabled:!0}:e)):u.length?n.map((e=>"openings"===e.value?{...e,disabled:!0}:e)):n,E(e)}),[u,M,n]),Object(s.useEffect)((()=>{if(J.length){const e=[];for(const t of J)t.disabled||"id"!==t.value&&"title"!==t.value&&"location"!==t.value&&"workType"!==t.value||e.push(t.value);R(e)}else R([])}),[J]);const P=Object(s.useCallback)((async()=>{try{const e=await i.a.get("".concat(d.a.serverURL,"/supplier?dropdownFilter=true"),{headers:t});e.data&&m(e.data.map((e=>{var t,a,s,n,c;return{value:"".concat(e.id," / ").concat(e.supplierCompanyName),label:"".concat(e.supplierCompanyName," ").concat(null!==(t=e.address)&&void 0!==t&&t.city?"(".concat((null===(a=e.address)||void 0===a?void 0:a.city)&&(null===(s=e.address)||void 0===s?void 0:s.city),", ").concat(null!==(n=e.address)&&void 0!==n&&n.stateCode?null===(c=e.address)||void 0===c?void 0:c.stateCode:"",")"):"")}})))}catch(e){console.log(e)}}),[t]),F=Object(s.useCallback)((async()=>{try{const e=await i.a.get("".concat(d.a.serverURL,"/candidates?dropdownFilter=true"),{headers:t});e.data&&r(e.data.map((e=>({value:"".concat(e.id," / ").concat(e.firstName," ").concat(e.lastName),label:"".concat(e.firstName," ").concat(e.lastName)}))))}catch(e){console.log(e)}}),[t]);Object(s.useEffect)((()=>{let e=!1;return(async()=>{try{await P(),await F()}catch(t){e||console.log(t)}})(),()=>e=!0}),[P,F]);const V=(e,t)=>{const a=[];for(let s of e)a.push(parseInt(s.value.split(" / ")[0]));"candidates"===t?(j(e),h(a),v.length&&f([])):(f(e),k(a),u.length&&j([]))},z=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;j([]),f([]),R([]),T(""),l(!1),e.close(t)},U=e=>{const t={};for(const a of I)switch(a){case"description":t.jobDescription=e[a];break;case"title":t.jobTitle=e[a];break;case"location":t.address={city:e.client.address.city,state:e.client.address.state,countryCode:e.client.address.countryCode};break;case"clientName":t.client={clientName:e.client.clientName};break;case"openings":t.noOfJobopenings=e[a];break;case"rate":t.clientBillRate=e[a];break;default:t[a]=e[a]}return t};return Object(C.jsx)(w.a,{title:"Share Job Openings",open:e.open,onOk:async()=>{l(!0);const e=[];for(let t of M)e.push(parseInt(t.value.split(" / ")[0]));const s=D.filter((t=>e.includes(t.id))),n=[];for(const t of s)n.push(U(t));const c={jobOpening:n,candidates:p,suppliers:y,greeting:N||"Hope you are doing well. This is ".concat(null===a||void 0===a?void 0:a.firstName," from Drishticon. Kindly find below the new job listings information.")};try{const e=await i.a.post("".concat(d.a.serverURL,"/email"),c,{headers:t});200===e.status&&(l(!1),z(e.status))}catch(o){console.log(o),g.b.error("".concat(o.response))}},confirmLoading:c,onCancel:()=>z(null),okText:"Send",width:900,children:Object(C.jsxs)("div",{className:"email-details-container",children:[Object(C.jsxs)("div",{className:"email-section-container",children:[Object(C.jsx)("p",{className:"email-section-header",children:"Jobs:"}),Object(C.jsx)("div",{className:"selections-container",children:Object(C.jsx)(S.a,{mode:"multiple",labelInValue:!0,allowClear:!0,style:{width:"100%"},placeholder:"Select Jobs",value:M,onChange:e=>{H(e)},options:L})})]}),Object(C.jsxs)("div",{className:"email-section-container",children:[Object(C.jsx)("p",{className:"email-section-header",children:"To:"}),Object(C.jsxs)("div",{className:"selections-container",children:[Object(C.jsx)(S.a,{mode:"multiple",labelInValue:!0,allowClear:!0,style:{width:"100%",marginBottom:"8px"},placeholder:"Select Candidates",value:u,onChange:e=>V(e,"candidates"),options:o,disabled:v.length}),Object(C.jsx)(S.a,{mode:"multiple",labelInValue:!0,allowClear:!0,style:{width:"100%"},placeholder:"Select Suppliers",value:v,onChange:e=>V(e,"suppliers"),options:O,disabled:u.length})]})]}),Object(C.jsxs)("div",{className:"email-section-container",children:[Object(C.jsx)("p",{className:"email-section-header",children:"Email Body:"}),Object(C.jsx)(x.a,{name:"email-body",value:N||"Hope you are doing well. This is ".concat(null===a||void 0===a?void 0:a.firstName," from Drishticon. Kindly find below the new job listings information."),onChange:e=>{T(e.target.value)},placeholder:"",className:"email",charCount:"Email already includes greeting with recipients name and signature with your information."})]}),Object(C.jsxs)("div",{className:"email-section-container",children:[Object(C.jsx)("p",{className:"email-section-header",children:"Job Information:"}),Object(C.jsxs)("div",{className:"selections-container",children:[Object(C.jsx)(S.a,{mode:"multiple",style:{width:"100%"},placeholder:"Job Information",value:I,onChange:e=>{R(e)},options:J}),Object(C.jsx)("p",{className:"email-section-info-text",children:"Description can only be included in emails with 1-2 job openings."})]})]})]})})};var N=a(804),T=a(798);a(800);const I=e=>{let{status:t}=e;return Object(C.jsx)("span",{className:"table-record-status ".concat(t&&t.toLowerCase()),children:t})};var R=a(801);const J=Object(s.forwardRef)(((e,t)=>{let{open:a,setOpen:n,...c}=e;const l=Object(s.useMemo)((()=>b.a.getHeaders()),[]),[i,o]=Object(s.useState)(1),[r,d]=Object(s.useState)(0),[j,p]=Object(s.useState)([]),h=Object(s.useCallback)((async()=>{const e=await Object(u.e)(l,i,10);e&&(p(e.data),d(e.totalItems))}),[i,l]);return Object(s.useEffect)((()=>{h()}),[i,l,h]),Object(s.useImperativeHandle)(t,(()=>({loadArchive(){h()},length:j.length}))),Object(C.jsx)(R.a,{openArchive:a,setOpenArchive:n,loadArchive:h,archive:j,archivedData:"jobopenings",headers:["Job Title","Client","Openings","Hiring Manager","Priority","Status","Employment Type"],totalItems:r,setArchiveCurrentPage:o,archiveCurrentPage:i})}));var E=a(806),M=a(1063);const H=e=>{let{row:t}=e;const[a,n]=Object(s.useState)([]);Object(s.useEffect)((()=>n([t])),[t]);const c=[{title:"Hiring Manager",dataIndex:"hiringManager",key:"hiringManager",width:150},{title:"FLSA",dataIndex:"flsaType",key:"flsaType",width:100},{title:"Tax",dataIndex:"taxType",key:"taxType",width:100},{title:"Description",dataIndex:"jobDescription",key:"jobDescription",render:e=>Object(C.jsx)("div",{style:{maxHeight:"150px",overflowY:"auto"},children:e})}];return Object(C.jsx)(M.a,{dataSource:a,columns:c,pagination:!1,rowKey:()=>"".concat(null===a||void 0===a?void 0:a.id,"_expanded")})};var L=a(219),A=a(218),D=a(342),B=a(765);const P=e=>{let{records:t,...a}=e;const c=Object(n.useHistory)(),l=Object(s.useCallback)((e=>{c.push("/candidate/".concat(e))}),[c]);return Object(C.jsx)(C.Fragment,{children:0!==+a.children?Object(C.jsx)(D.a,{title:"Submissions",content:Object(C.jsxs)("table",{style:{width:"100%",borderColor:"#f1f1f1",borderCollapse:"initial"},children:[Object(C.jsx)("thead",{children:Object(C.jsxs)("tr",{style:{backgroundColor:"#fafafa",padding:"8px"},children:[Object(C.jsx)("th",{style:{padding:"8px"},children:"Candidate"}),Object(C.jsx)("th",{style:{padding:"8px"},children:"Recruiter"}),Object(C.jsx)("th",{style:{padding:"8px"},children:"Submitted On"})]})}),Object(C.jsx)("tbody",{children:t.map((e=>Object(C.jsxs)("tr",{children:[Object(C.jsx)("td",{style:{padding:"8px"},children:Object(C.jsx)(T.a,{label:e.name,onClick:()=>l(e.id),className:"small"})}),Object(C.jsx)("td",{style:{padding:"8px"},children:e.recruiter}),Object(C.jsx)("td",{style:{padding:"8px"},children:e.date})]},e.id)))})]}),children:Object(C.jsxs)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(C.jsx)(B.a,{style:{fontSize:"18px"}}),Object(C.jsx)("span",{children:a.children})]})}):Object(C.jsx)("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:Object(C.jsx)("span",{children:a.children})})})};var F=a(762),V=a(152);a(158);t.default=()=>{var e;const t=Object(n.useHistory)(),a=Object(c.b)(),l=Object(s.useMemo)((()=>b.a.getHeaders()),[]),o=Object(s.useRef)(null),[x,w]=Object(s.useState)(!0),[S,R]=Object(s.useState)(10),[D,B]=Object(s.useState)(1),[z,U]=Object(s.useState)(0),[_,Y]=Object(s.useState)([]),[K,W]=Object(s.useState)({}),[q,G]=Object(s.useState)(!1),[Q]=Object(s.useState)({}),[X,Z]=Object(s.useState)(!1),[$,ee]=Object(s.useState)(!1),[te,ae]=Object(s.useState)({}),[se,ne]=Object(s.useState)([]),[ce,le]=Object(s.useState)(!1),[ie,oe]=Object(s.useState)(!1),[re,de]=Object(s.useState)(!1),[be,ue]=Object(s.useState)([]),[je,pe]=Object(s.useState)([]),[he,Oe]=Object(s.useState)([]),[me,ve]=Object(s.useState)([]),[fe,ye]=Object(s.useState)(!0),[xe,ge]=Object(s.useState)(!1),we=Object(s.useMemo)((()=>b.a.getUserInfo()),[]),[Se,Ce]=Object(s.useState)(we.roles[0]),[ke,Ne]=Object(s.useState)(!1),[Te,Ie]=Object(s.useState)(!1);console.log(Se),Object(s.useEffect)((()=>{b.a.hasAdminRole()&&Ne(!0)}),[]);const Re=Object(s.useCallback)((()=>{b.a.logout(),a(Object(j.b)(!1))}),[a]),Je=Object(s.useCallback)((e=>{t.push("/job/".concat(e))}),[t]),Ee=Object(s.useMemo)((()=>[{title:"Job Title",dataIndex:"jobTitle",key:"jobTitle",sorter:!0,fixed:"left",width:180,render:(e,t)=>Object(C.jsx)(T.a,{onClick:()=>Je(t.id),label:e,extra:t.jobNumber})},{title:"Client",dataIndex:"clientName",key:"client.clientName",sorter:!0,render:(e,t)=>Object(C.jsx)(E.a,{name:e,location:t.location||""}),width:140,filters:je,filterSearch:!0},{title:"Created",dataIndex:"creationDate",key:"creationDate",render:e=>r()(e).format("MM/DD/YYYY"),width:125,sorter:!0},{title:"Status",dataIndex:"status",key:"status",sorter:!0,width:100,filters:h.d,filterMultiple:!1,render:e=>Object(C.jsx)(I,{status:e})},{title:"Priority",dataIndex:"priority",key:"priority",sorter:!0,width:105,filters:h.b,filterMultiple:!1},{title:"Openings",dataIndex:"noOfJobopenings",key:"noOfJobopenings",sorter:!0,width:100,align:"right"},{title:"Submissions",dataIndex:"submissionCount",key:"submissionCount",width:100,align:"right",render:(e,t)=>Object(C.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:Object(C.jsx)(P,{records:t.submissions,children:e})})},{title:"Employment Type",dataIndex:"jobType",key:"jobType",sorter:!0,width:120},{title:"Work Type",dataIndex:"workType",key:"workType",sorter:!0,width:100},{title:"Bill Rate",dataIndex:"clientBillRate",key:"clientBillRate",sorter:!0,width:150}]),[Je,je]);Object(s.useEffect)((()=>{ve(Ee)}),[Ee,je]),Object(s.useEffect)((()=>{oe(b.a.hasRecruiterRole())}),[]);const Me=Object(s.useCallback)((async()=>{if(Object.keys(te).length){const e=Object.keys(K)[0]?Object.keys(K)[0]:"",t=e?K[e]:"",a=await Object(u.b)(l,D,S,te,e||"id",t||"desc");200===a.statusCode&&(Y(a.data),U(a.totalItems),w(!1))}else{const e=await Object(u.d)(l,D,S,K);200===e.statusCode&&(Y(e.data),U(e.totalItems),w(!1))}}),[l,D,S,K,te]);Object(s.useEffect)((()=>{Me()}),[Me,te,null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.length]);const He=()=>{i.a.all(he.map((e=>i.a.delete("".concat(d.a.serverURL,"/jobopenings/").concat(e),{headers:l})))).then((e=>{ue([]),Oe([]),Me(),o.current.loadArchive()})).catch((e=>{console.log(e),e.response&&401===e.response.status&&Re()}))},Le=Object(s.useCallback)((e=>{ae({...te,search:e})}),[te]),Ae=Object(s.useCallback)((e=>{let t=[];for(let a in e)if("string"!==typeof e[a]&&"number"!==typeof e[a]||"id"===a)"object"===typeof e[a]&&(t=t.concat(Ae(e[a])));else if("location"===a){let s=e[a].split(", ");t.push(s[0],s[1],s[2])}else t.push(e[a]);return t}),[]);Object(s.useEffect)((()=>{if(_){let e=[];for(let t of _){Ae(t).forEach((t=>{e.includes(t)||e.push(t)}))}ne(e)}}),[_,te,Ae]);const De={selectedRowKeys:he,onChange:(e,t)=>{ke||Se.projectsPermission?Oe(e):Oe([]),ue(t)},selections:[M.a.SELECTION_ALL,M.a.SELECTION_NONE,...Object(O.s)("text",je).map((e=>({key:e.value,text:Object(C.jsxs)("span",{children:[Object(C.jsx)("span",{style:{fontWeight:200,color:"var(--tertiary)"},children:"client:"})," ",e.text]}),onSelect:()=>{let t=[];t=_.filter((t=>t.client.id===e.value)),Oe(t.map((e=>e.id))),ue(t)}})))]},Be=Object(s.useCallback)((async()=>{await i.a.get("".concat(d.a.serverURL,"/clients?dropdownFilter=true"),{headers:l}).then((e=>{e.data&&pe(e.data.map((e=>{var t;return{text:"".concat(e.clientName," (").concat(null===(t=e.address)||void 0===t?void 0:t.city,")"),value:e.id}})))})).catch((e=>console.log(e)))}),[l]);return Object(s.useEffect)((()=>Be()),[Be]),Object(C.jsxs)(L.a,{children:[Object(C.jsx)(A.a,{title:"Job Openings",actions:!ie&&(ke||Se.jobOpeningsPermission?Object(C.jsxs)(y.a,{type:"button",className:"btn main margin-left",handleClick:()=>{t.push("/addjob")},children:[Object(C.jsx)(F.a,{className:"icon"}),"Add Job Opening"]}):"")}),Object(C.jsx)(V.a,{onActive:()=>{ye(!0)},onIdle:()=>{ye(!1)},onLogout:()=>{ge(!0)}}),Object(C.jsx)(N.a,{loading:x,data:_.map((e=>({...e,key:e.id}))),columns:me,setColumns:ve,defaultColumns:Ee,rowSelection:!(!ke&&!Se.jobOpeningsPermission)&&De,expandedRowRender:e=>Object(C.jsx)(H,{row:e}),total:z,setCurrentPage:B,setPageSize:R,setSort:W,setFilters:ae,filters:te,searchOptions:se,searchList:_,handleSearch:Le,openArchive:()=>ee(!0),openReports:()=>le(!0),handleConfirmArchive:He,handleCancelArchiving:()=>{Oe([])},openShareModal:()=>de(!0),removeableColumns:Ee.filter((e=>"Job Title"!==e.title&&e.title)).map((e=>e.title))}),Object(C.jsx)(k,{open:re,close:e=>{de(!1),200===e&&g.b.success("Email(s) sent successfully!"),Oe([]),ue([])},jobs:be}),Object(C.jsx)(J,{open:$,setOpen:ee,ref:o}),Object(C.jsx)(m.a,{showReportModal:ce,setShowReportModal:le,individualReportName:"jobopenings",individualList:_,list:null===_||void 0===_?void 0:_.map((e=>({id:e.id,name:e.jobTitle}))),listLabel:"Job Openings",filename:"job_opening_report",tableFields:Object(h.c)(),pdfFormatter:v.a.jobPdfFormat,csvExcelFormatter:v.a.jobCSVExcel}),Object(C.jsx)(p.a,{showModal:q,setShowModal:G,selectedJobopening:Q,submitChange:(e,t)=>{e.total_experience&&(e.total_experience=parseInt(e.total_experience)),i.a.patch("".concat(d.a.serverURL,"/jobopenings/").concat(t),e,{headers:l}).then((e=>{null!=e.data&&(Me(),g.b.success({content:"Job updated!",duration:5,style:{marginTop:"5%"}}))})).catch((e=>{var t;console.log(e),e.response&&401===e.response.status&&Re(),g.b.error({content:"An error occurred while saving changes (".concat(null===(t=e.response)||void 0===t?void 0:t.status,")"),duration:10})}))}}),Object(C.jsx)(f.a,{openModal:X,type:"warning",confirmValue:"Archive",cancelValue:"CANCEL",handleConfirmClose:()=>{He(),Z(!1)},closePopUp:()=>{ue({}),Z(!1)},message:{title:"Confirm Action",details:"Are you sure you want to archive selection?"}})]})}},798:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(800);var s=a(1);const n=e=>Object(s.jsxs)("div",{className:"tablelink-container",children:[Object(s.jsx)("span",{onClick:e.onClick,className:"tablelink ".concat(e.styleRed&&"red"," ").concat(e.className&&e.className),children:e.label}),e.extra&&Object(s.jsx)("span",{className:"table-link-extra",children:e.extra})]})},806:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(807);var s=a(1);const n=e=>{let{name:t,location:a,...n}=e;return Object(s.jsxs)("div",{className:"client-details-container",children:[Object(s.jsx)("span",{children:t}),Object(s.jsx)("span",{children:a}),n.extra&&Object(s.jsx)("span",{children:n.extra})]})}},807:function(e,t,a){},814:function(e,t,a){"use strict";var s=a(2),n=a(0),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"}}]},name:"audit",theme:"outlined"},l=a(24),i=function(e,t){return n.createElement(l.a,Object(s.a)({},e,{ref:t,icon:c}))};t.a=n.forwardRef(i)},837:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return l})),a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return o}));var s=a(814),n=a(1);const c=()=>[{label:"Client",value:"client",key:"client"},{label:"No.Of Jobopenings",value:"noOfJobopenings",key:"noOfJobopenings"},{label:"Hiring Manager",value:"hiringManager",key:"hiringManager"},{label:"Priority",value:"priority",key:"priority"},{label:"Status",value:"status",key:"status"},{label:"Location",value:"location",key:"location"},{label:"Client Bill Rate",value:"clientBillRate",key:"clientBillRate"},{label:"Job Description",value:"jobDescription",key:"jobDescription"},{label:"Job Type",value:"jobType",key:"jobType"},{label:"Work Type",value:"workType",key:"workType"},{label:"FLSA Type",value:"flsaType",key:"flsaType"},{label:"Tax Type",value:"taxType",key:"taxType"},{label:"Job Creation Date",value:"creationDate",key:"creationDate"}],l=[{text:"New",value:"New"},{text:"Active",value:"Active"},{text:"Hold",value:"Hold"},{text:"Closed",value:"Closed"}],i=[{text:"Low",value:"Low"},{text:"Medium",value:"Medium"},{text:"High",value:"High"}],o=()=>[{title:"Job Details",icon:Object(n.jsx)(s.a,{style:{color:"var(--secondary-muted)",fontSize:"18px",marginBottom:"1px"}}),status:"finish"}]},973:function(e,t,a){}}]);