(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[10],{1071:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(75),s=a(28),i=a(13),r=a(25),o=a(343),l=a(126),d=a(347),u=a(35),b=a(66),j=a(1063),h=(a(971),a(16)),m=a.n(h);const v="".concat(r.a.serverURL,"/email/share"),p=i.a.getHeaders();var O=a(50),g=a(112),x=a(1);var f=e=>{var t,a,c,r,o,h,f,S;const{sources:y,receivers:w,getData:C,columns:N,contentMapping:k}=e,A=Object(s.b)(),{showModal:I}=Object(s.c)((e=>e.shareDate)),[R,E]=Object(n.useState)(!1),[P,D]=Object(n.useState)({}),[M,K]=Object(n.useState)([]),[L,T]=Object(n.useState)([]),[F,z]=Object(n.useState)([]),[_,G]=Object(n.useState)(1),[H,U]=Object(n.useState)(0);Object(n.useEffect)((()=>{var e,t;null!==P&&void 0!==P&&null!==(e=P.criteria)&&void 0!==e&&null!==(t=e.selection)&&void 0!==t&&t.id&&C(null===P||void 0===P?void 0:P.criteria,_,5).then((e=>{const t=e.data.map((e=>({...e,content:e[k.body]})));e.data&&(T(t),U(e.totalItems))}))}),[C,null===P||void 0===P?void 0:P.criteria,k.body,_]);const J=()=>{A(Object(d.b)(!1)),D({}),T([]),E(!1),z([]),K([])},Q={onChange:(e,t)=>{E(!!t.length);const a=t.map((e=>{const t=(a=e,k.header.map((e=>{const t=e.split(".")[0],n=Object(O.r)(a,e);return"".concat(t.charAt(0).toUpperCase()+t.slice(1).toLowerCase(),": ").concat(n)})).join(".\n"));var a;const n=((e,t)=>t.map((t=>Object(O.r)(e,t))).join(".\n"))(e,k.body);return{header:t,body:n}})),n=(null===P||void 0===P?void 0:P.receivers)||[];z({content:a,receivers:n})}};return Object(x.jsxs)(l.a,{open:I,close:J,header:{text:e.title},bodyStyle:{overflowY:""},children:[y&&Object(x.jsxs)("div",{className:"sharing-form",children:[Object(x.jsx)(u.a,{label:"Criteria of sharing",name:"criteria",onChange:e=>{const{value:t}=e.target,a=y.find((e=>+e.id===+t));D((e=>({...e,criteria:a}))),T([]),z((e=>({...e,body:[]})))},options:null===y||void 0===y?void 0:y.map((e=>({id:e.id,value:e.id,name:e.name}))),value:null===P||void 0===P||null===(t=P.criteria)||void 0===t?void 0:t.id}),(null===P||void 0===P||null===(a=P.criteria)||void 0===a||null===(c=a.options)||void 0===c?void 0:c.length)>0&&Object(x.jsx)(u.a,{label:null===P||void 0===P||null===(r=P.criteria)||void 0===r?void 0:r.name,options:null===P||void 0===P||null===(o=P.criteria)||void 0===o?void 0:o.options,onChange:e=>{var t;const{value:a}=e.target,n=null===P||void 0===P?void 0:P.criteria,c=null===n||void 0===n||null===(t=n.options)||void 0===t?void 0:t.find((e=>+e.id===+a));D((e=>({...e,criteria:{...n,selection:c}}))),z((e=>({...e,body:[]})))},value:null===P||void 0===P||null===(h=P.criteria)||void 0===h||null===(f=h.selection)||void 0===f?void 0:f.id})]}),(null===L||void 0===L?void 0:L.length)>0&&Object(x.jsx)("div",{className:"sharing-table",children:Object(x.jsx)(j.a,{className:"custom-antd-table",columns:N,dataSource:L,rowKey:e=>e.id,rowSelection:Q,pagination:{current:_,onChange:e=>G(e),total:H,pageSize:5}})}),w&&Object(x.jsx)("div",{className:"sharing-table",children:Object(x.jsx)(g.a,{label:"Receivers list",options:w.map((e=>({id:e.id,value:e.name,selected:M.indexOf(e.id)>=0}))),handleChange:e=>{const t=e.filter((e=>e.selected)).map((e=>e.id)),a=t.map((e=>w.find((t=>t.id===e))));K(t),D((e=>({...e,receivers:a}))),z((e=>({...e,receivers:a})))},isMulti:!0,checkboxes:!0,placeholder:"Select..."})}),Object(x.jsx)(b.a,{onSubmit:e=>{e.preventDefault(),(async e=>{try{return await m.a.post("".concat(v),e,{headers:p})}catch(a){var t;return 401===a.response.status&&i.a.logout(),{statusCode:null===(t=a.response)||void 0===t?void 0:t.status}}})(F).finally((()=>J()))},cancel:J,formEnabled:R&&(null===P||void 0===P||null===(S=P.receivers)||void 0===S?void 0:S.length)>0})]})},S=a(319),y=a(816),w=a(812),C=a(221),N=a(108);a(972);var k=a(804),A=a(219);var I=e=>{const{columns:t,data:a,id:n,selectedRows:c,onSelectChange:s}=e,i={onChange:(e,t)=>{s((t=>({...t,[n]:e})))},selectedRowKeys:c[n]};return Object(x.jsx)(j.a,{className:e.className||"",dataSource:a,columns:t,pagination:!1,rowKey:e=>"".concat(null===e||void 0===e?void 0:e.id,"_expanded"),rowSelection:i,scroll:{x:"100%",y:"100%"}})},R=a(801);var E=e=>{const{callback:t,archivedData:a,tabHeaders:c,openArchive:s,setOpenArchive:r}=e,o=Object(n.useMemo)((()=>i.a.getHeaders()),[]),[l,d]=Object(n.useState)(1),[u,b]=Object(n.useState)(0),[j,h]=Object(n.useState)([]),m=Object(n.useCallback)((async()=>{try{const e=await t(o,l,10);200===e.statusCode&&(h(e.tableData),b(e.totalItems))}catch(e){console.log(e)}}),[l,o,t]);return Object(n.useEffect)((()=>{m()}),[l,o,m,s]),Object(x.jsx)(R.a,{openArchive:s,setOpenArchive:r,loadArchive:m,archive:j,archivedData:a,headers:c,totalItems:u,setArchiveCurrentPage:d,archiveCurrentPage:l})},P=a(152);t.default=()=>{const e=Object(s.b)(),[t]=Object(n.useState)(i.a.getHeaders()),a=Object(c.useHistory)(),{guides:l,subjects:u,clients:b}=Object(s.c)((e=>e.iGuide)),[j,h]=Object(n.useState)([]),[m,v]=Object(n.useState)({}),[p,O]=Object(n.useState)(r.a.ITEMS_PER_PAGE),[g,R]=Object(n.useState)(1),[D,M]=Object(n.useState)(!1),[K,L]=Object(n.useState)({}),[T,F]=Object(n.useState)({}),[z,_]=Object(n.useState)([]),[G,H]=Object(n.useState)({}),U=Object(n.useMemo)((()=>i.a.getUserInfo()),[]),[J,Q]=Object(n.useState)(U.roles[0]),[Y,q]=Object(n.useState)(!1);Object(n.useEffect)((()=>{i.a.hasAdminRole()&&q(!0)}),[]);const[V,X]=Object(n.useState)(!0),[W,B]=Object(n.useState)(!1),Z=Object(n.useCallback)((t=>{ee(),Object(w.f)(t,m).then((t=>{var a;return e(Object(S.f)(null!==(a=t.data)&&void 0!==a&&a.length?t.data.map((e=>({...e,createdAt:new Date(e.createdAt).toLocaleDateString(),updatedAt:e.updatedAt?new Date(e.updatedAt).toLocaleDateString():null,disableSelection:!0}))):[]))})).catch((e=>console.log("Error fetching latest data:",e)))}),[e,m]);Object(n.useEffect)((()=>{Z(t),Object(w.g)(t).then((t=>e(Object(S.g)(t||[])))).catch((e=>console.log(e))),Object(w.b)(t).then((t=>e(Object(S.b)(t||[])))).catch((e=>console.log(e))),Object(C.f)(t).then((t=>e(Object(S.c)(t||[])))).catch((e=>console.log(e)))}),[t,e,Z]),Object(n.useEffect)((()=>{D||Z(t)}),[D,Z,t]),Object(n.useEffect)((()=>{const e=Object.keys(G)[0]?Object.keys(G)[0]:"",a=e?G[e]:"";Object(N.m)(t,{status:"Active,Ready to be Marketed,Onboarded"},1,100,e||"id",a||"desc").then((e=>{e.tableData&&h(e.tableData.map((e=>({id:e.id,name:e.fullName,email:e.email,status:e.status}))))}))}),[t]);const $=Object(y.c)((t=>{const n=Object.values(K).flat().find((e=>+e.id===+t));e(Object(S.e)(n)),a.push("/guides/".concat(t))})),ee=()=>{F({}),L({}),_([])},te=e=>{Object(w.c)(t,e.subject.id,e.area.id,g,p,m).then((t=>(t.data&&L({...K,[e.id]:t.data}),Object(x.jsx)(I,{id:e.id,columns:$,data:t.data,selectedRows:T,onSelectChange:F})))).catch((e=>console.log(e)))},ae={selectedRowKeys:Object.values(T).flat()||[],getCheckboxProps:e=>({disabled:e.disableSelection})};return Object(x.jsxs)(A.a,{children:[Object(x.jsx)(P.a,{onActive:()=>{X(!0)},onIdle:()=>{X(!1)},onLogout:()=>{B(!0)}}),Y||J.workerPermission?Object(x.jsx)(o.a,{children:Object(y.e)({openForm:()=>{e(Object(S.e)({})),a.push("/addguide")},toggleShareModal:()=>{e(Object(d.b)(!0))}})}):"",Object(x.jsx)(k.a,{columns:Object(y.b)(u),data:l.map((e=>({...e,key:e.id}))),expandedRowRender:e=>K[e.id]?Object(x.jsx)(I,{id:e.id,columns:$,data:K[e.id],selectedRows:T,onSelectChange:F}):void te(e),scroll:{x:"100%",y:"calc(100vh - 200px)"},handleSearch:e=>{v({...m,search:e})},handleConfirmArchive:()=>{const e=Object.values(T).flat().map((e=>parseInt(e)));Object(w.a)(t,e).then((()=>Z(t))).finally((()=>ee()))},handleCancelArchiving:ee,openArchive:()=>M(!0),rowSelection:!(!Y&&!J.workerPermission)&&ae,expandedRowKeys:z,setExpandedRowKeys:_,setPageSize:O,setCurrentPage:R,setFilters:v,filters:m}),Object(x.jsx)(f,{title:"Interview Questions sharing",sources:Object(y.h)({Subject:u,Clients:b}),receivers:j,getData:async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{let c={};return"Subject"===e.name&&(c={subject:e.selection.name}),"Client"===e.name&&(c={client:e.selection.name}),await Object(w.e)(t,c,a,n)}catch(c){return console.log(c),{}}},columns:y.g,contentMapping:{header:["subject.name","client.clientName"],body:["questions"]}}),Object(x.jsx)(E,{archivedData:"guides",callback:w.d,tabHeaders:y.a,openArchive:D,setOpenArchive:M})]})}},798:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(800);var n=a(1);const c=e=>Object(n.jsxs)("div",{className:"tablelink-container",children:[Object(n.jsx)("span",{onClick:e.onClick,className:"tablelink ".concat(e.styleRed&&"red"," ").concat(e.className&&e.className),children:e.label}),e.extra&&Object(n.jsx)("span",{className:"table-link-extra",children:e.extra})]})},800:function(e,t,a){},801:function(e,t,a){"use strict";var n=a(0),c=a(16),s=a.n(c),i=a(25),r=a(22),o=a(312),l=a(425),d=a(1040),u=(a(820),a(13)),b=a(1);t.a=e=>{const[t,a]=Object(n.useState)(""),[c,j]=Object(n.useState)(!1),h=i.a.ITEMS_PER_PAGE,m=Object(n.useMemo)((()=>u.a.getUserInfo()),[]),[v,p]=Object(n.useState)(m.roles[0]),[O,g]=Object(n.useState)(!1);Object(n.useEffect)((()=>{u.a.hasAdminRole()&&g(!0)}),[]);const x=t=>{const n=[];for(const e in t)"id"!==e&&n.push(Object(b.jsx)("td",{className:"archive-cell",children:t[e]},"".concat(e)));return n.push(Object(b.jsx)("td",{className:"archive-cell restore-col",children:O||v.managerPermission||v.candidatesPermission||v.clientPermission||v.workerPermission||v.jobOpeningsPermission||v.timesheetPermission||v.projectsPermission||v.onboardingsPermission||v.workOrderPermission||v.calendarPermission||v.interviewersPermission||v.suppliersPermission?Object(b.jsxs)(r.a,{type:"button",name:"un-archive-btn",className:"btn main outlined",handleClick:()=>(t=>{let n=JSON.parse(sessionStorage.getItem("headers"));s.a.post("".concat(i.a.serverURL,"/").concat(e.archivedData,"/").concat(t),null,{headers:n}).then((t=>{200===t.status&&(a(t.data),j(!1),setTimeout((()=>a("")),3e3),e.loadArchive())})).catch((e=>{a(e.response.data),j(!0),setTimeout((()=>a("")),3e3),console.log(e)}))})(t.id),children:[Object(b.jsx)(d.a,{className:"icon"})," Restore"]}):""},"restore_".concat(t.id))),n};return Object(b.jsxs)(l.a,{width:"60%",title:Object(b.jsxs)("span",{children:["Archived"," ",e.archivedData.includes("job")?"Job Openings":e.archivedData.charAt(0).toUpperCase().concat(e.archivedData.substring(1))]}),footer:null,open:e.openArchive,onCancel:()=>e.setOpenArchive(!1),children:[t&&Object(b.jsx)("div",{className:"notification",children:Object(b.jsx)("p",{className:"notification-text ".concat(c?"err-response":""),children:t})}),Object(b.jsxs)("div",{id:"archive-modal-contents",children:[Object(b.jsxs)("table",{className:"archive-table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{className:"archive-table-headers",children:[e.headers&&e.headers.map((e=>Object(b.jsx)("th",{className:"archive-col-header",children:e},e))),Object(b.jsx)("th",{className:"sr-only cell-btn",children:"Restore"})]})}),Object(b.jsx)("tbody",{children:e.archive&&e.archive.map((e=>Object(b.jsx)("tr",{className:"archive-table-row",children:x(e)},e.id)))})]}),Object(b.jsx)("div",{className:"pagination-row",children:Object(b.jsx)(o.a,{total:e.totalItems,itemsPerPage:h,currentPage:e.archiveCurrentPage,onPageChange:t=>e.setArchiveCurrentPage(t),items:e.archivedData.includes("job")?"Job Opening":e.archivedData.charAt(0).toUpperCase().concat(e.archivedData.substring(1))})})]})]})}},804:function(e,t,a){"use strict";a.d(t,"a",(function(){return x}));var n=a(1063),c=a(0);var s=a(756),i=a(755),r=(a(847),a(1));var o=Object(c.forwardRef)(((e,t)=>{const[a,n]=Object(c.useState)([]),[o,l]=Object(c.useState)(""),[d,u]=Object(c.useState)(!1),b=t=>{l(t),e.handleSearch(t),n([]),u(!0)},j=()=>{e.clearSearch(),l(""),u(!1)};return Object(c.useImperativeHandle)(t,(()=>({clearSearch(){j()},searchValue:o}))),Object(r.jsxs)("div",{className:"search-bar-container",children:[Object(r.jsx)(s.a,{className:"searchbar-icon"}),Object(r.jsx)("input",{type:"search",placeholder:"Search table",value:o,onChange:t=>{var a;const{value:c}=t.target;l(c),null!==(a=e.options)&&void 0!==a&&a.length&&n(c?e.options.filter((e=>"string"===typeof e?e.toLowerCase().includes(c.toLowerCase()):e===c)):[])},className:"search-bar",onKeyDown:t=>{"Enter"===t.key&&(e.handleSearch(t.target.value),n([]),t.target.value&&u(!0),t.target.value||j())}}),d&&Object(r.jsx)("button",{type:"reset",name:"clear-search-btn",className:"btn icon small margin-right",onClick:j,children:Object(r.jsx)(i.a,{})}),Object(r.jsx)("button",{type:"submit",className:"searchbar-btn",onClick:()=>b(o),disabled:!o,children:"search"}),a.length>0&&Object(r.jsx)("ul",{className:"search-dropdown-list",children:a.map((e=>Object(r.jsx)("li",{className:"search-option",onClick:()=>b(e),children:Object(r.jsx)("span",{children:e})},e)))})]})})),l=a(22),d=a(400),u=a(1104),b=a(610),j=a(685),h=a(1105),m=a(1106),v=a(787),p=a(783);const O=e=>{const t=Object(c.useRef)(null),a=Object(c.useRef)(null),[n,s]=Object(c.useState)(!1),[i,O]=Object(c.useState)(!1),[g,x]=Object(c.useState)(e.removeableColumns);Object(c.useEffect)((()=>{O(!1)}),[e.rowSelection.selectedRowKeys.length]),((e,t)=>{const a=a=>{var n;null!==(n=e.current)&&void 0!==n&&n.contains(a.target)||t()};Object(c.useEffect)((()=>(document.addEventListener("click",a),()=>{document.removeEventListener("click",a)})))})(t,(()=>s(!1)));const f=()=>Object(r.jsx)("ul",{className:"custom-col-list",children:e.removeableColumns.map((t=>Object(r.jsx)("li",{className:"custom-col-list-item",id:t,children:Object(r.jsx)(d.a,{onChange:()=>(t=>{if(g.includes(t)){x(g.filter((e=>e!==t)));let a=[...e.columns].filter((e=>e.title!==t));e.setColumns(a)}else{let a=e.removeableColumns.indexOf(t),n=[...g];n.splice(a,0,t),x(n);let c=e.defaultColumns.filter((e=>e.title===t))[0],s=[...e.columns],i=e.defaultColumns.findIndex((e=>e.title===t));s.splice(i,0,c),e.setColumns(s)}})(t),checked:!g.includes("".concat(t)),children:t})},t)))});return Object(r.jsxs)("div",{className:"table-actions-container",children:[Object(r.jsxs)("div",{className:"table-btns ".concat(e.rowSelection.selectedRowKeys.length>0?"margin":""),children:[e.rowSelection.selectedRowKeys.length>0&&e.openShareModal&&Object(r.jsxs)(l.a,{type:"button",onClick:e.openShareModal,className:"btn main outlined margin-right",children:[Object(r.jsx)(j.a,{className:"icon"})," Share Item(s)"]}),e.rowSelection.selectedRowKeys.length>0&&Object(r.jsx)(u.a,{title:"Archive Selection?",open:i,onConfirm:e.handleConfirmArchive,onCancel:e.handleCancelArchiving,style:{zIndex:20},children:Object(r.jsxs)("button",{type:"button",className:"btn main outlined red margin-right",onClick:()=>O(!0),children:[" ",Object(r.jsx)(h.a,{className:"icon"}),"Archive Item(s)"]})}),Object.values(e.filters).length>0&&Object(r.jsxs)(l.a,{type:"button",handleClick:()=>{e.setFilters({}),a.current.searchValue&&a.current.clearSearch()},className:"btn padding rounded outlined margin-right",children:["Clear All Filters (",Object.values(e.filters).length,")"]})]}),Object(r.jsx)(o,{options:e.searchOptions,list:e.searchList,handleSearch:e.handleSearch,clearSearch:()=>{const t={...e.filters};delete t.search,e.setFilters(t)},ref:a}),Object(r.jsxs)("div",{className:"table-subactions",ref:t,children:[Object(r.jsx)(l.a,{type:"button",name:"table-menu",className:"btn icon marginY",handleClick:()=>s(!n),children:Object(r.jsx)(m.a,{})}),Object(r.jsxs)("div",{className:"table-menu ".concat(n?"visible":"hidden"),children:[e.removeableColumns&&Object(r.jsx)(b.a,{placement:"bottom",title:"Select Columns to Hide",content:Object(r.jsx)(f,{}),trigger:"click",showArrow:!1,children:Object(r.jsxs)(l.a,{type:"button",handleClick:null,className:"btn marginY padding transparent",children:[Object(r.jsx)(v.a,{className:"icon"})," Hide Columns"]})}),Object(r.jsxs)(l.a,{type:"button",name:"archive",className:"btn marginY padding transparent",handleClick:e.openArchive,children:[Object(r.jsx)(h.a,{className:"icon"})," View Archive"]}),e.openReports&&Object(r.jsxs)(l.a,{type:"button",handleClick:e.openReports,className:"btn marginY padding transparent",children:[Object(r.jsx)(p.a,{className:"icon"})," Export Report"]})]})]})]})};var g=a(25);a(800);const x=e=>{console.log(e);const t=(t,a,n)=>{e.setPageSize((null===t||void 0===t?void 0:t.pageSize)||g.a.ITEMS_PER_PAGE),e.setCurrentPage((null===t||void 0===t?void 0:t.current)||1),"object"===typeof n&&null!==e&&void 0!==e&&e.setSort&&(null!==n&&void 0!==n&&n.order?e.setSort({[null===n||void 0===n?void 0:n.columnKey]:"ascend"===(null===n||void 0===n?void 0:n.order)?"asc":"desc"}):e.setSort({})),(t=>{if(Object.values(t).filter((e=>e)).length){const a=((e,t)=>{let a={};for(const n in e)switch(n){case"recruiter.firstName":a.recruiterId=e[n]?e[n].join(","):null;break;case"clientName":case"client.clientName":a.clientId=e[n]?e[n].join(","):null;break;case"projectName":case"project.projectName":a.projectId=e[n]?e[n].join(","):null;break;case"candidate.firstName":a.candidateId=e[n]?e[n].join(","):null;break;case"supplierCompanyName":a.supplierId=e[n]?e[n].join(","):null;break;case"worker.firstName":a.workerId=e[n]?e[n].join(","):null;break;case"resourceManager.firstName":a.resourceManagerId=e[n]?e[n].join(","):null;break;default:a[n]=e[n]?e[n].join(","):null}return a})(t,e.filters);e.setFilters(a)}else if(Object.values(t).filter((e=>e)).length||Object.keys(e.filters).filter((e=>e)).length){let a={...e.filters};for(const e in t){let n=e.includes("clientName")?"clientId":"recruiter.firstName"===e?"recruiterId":"candidate.firstName"===e?"candidateId":"supplierCompanyName"===e?"supplierId":"worker.firstName"===e?"workerId":"resourceManager.firstName"===e?"resourceManagerId":"project.projectName"===e?"projectId":e;t[e]||delete a[n]}e.setFilters(a)}else e.setFilters({})})(a)};return Object(r.jsx)("div",{className:"container-table",children:Object(r.jsx)(n.a,{id:"parent-table",size:"small",locale:!!e.loading&&{emptyText:"Loading..."},columns:e.columns,pagination:{position:["bottomRight"],defaultPageSize:10,total:e.total,pageSizeOptions:["5","10","20","30","50","100"],showSizeChanger:!0,showTotal:(e,t)=>"".concat(t[0],"-").concat(t[1]," of ").concat(e," items"),style:{maxWidth:"calc(100% - 20px)",marginBottom:0}},expandable:e.expandedRowRender&&{expandedRowRender:e.expandedRowRender,defaultExpandedRowKeys:["0"],rowExpandable:e=>"Not Expandable"!==e.name,expandedRowKeys:e.expandedRowKeys,onExpand:e.setExpandedRowKeys?(t,a)=>{t?e.setExpandedRowKeys((e=>[...e,a.key])):e.setExpandedRowKeys((e=>e.filter((e=>e!==a.key))))}:void 0},rowSelection:e.rowSelection,dataSource:e.data,scroll:{x:"calc(500px + 50%)",y:500},onChange:(e,a,n)=>{t(e,a,n)},title:()=>Object(r.jsx)(O,{rowSelection:e.rowSelection?e.rowSelection:{selectedRowKeys:[]},searchOptions:e.searchOptions,searchList:e.searchList,handleSearch:e.handleSearch,setFilters:e.setFilters,filters:e.filters,handleConfirmArchive:e.handleConfirmArchive,handleCancelArchiving:e.handleCancelArchiving,openArchive:e.openArchive,openReports:e.openReports,removeableColumns:e.removeableColumns,defaultColumns:e.defaultColumns,columns:e.columns,setColumns:e.setColumns,openShareModal:e.openShareModal})})})}},812:function(e,t,a){"use strict";a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return u})),a.d(t,"i",(function(){return b})),a.d(t,"f",(function(){return j})),a.d(t,"c",(function(){return h})),a.d(t,"h",(function(){return m})),a.d(t,"j",(function(){return v})),a.d(t,"a",(function(){return p})),a.d(t,"d",(function(){return O})),a.d(t,"e",(function(){return g}));var n=a(16),c=a.n(n),s=a(25),i=a(13);const r="".concat(s.a.serverURL,"/guides"),o=e=>({...e,Accept:"application/json","Content-Type":"application/json"}),l=async(e,t,a)=>{try{return await c.a.get("".concat(r).concat(t).concat(a),{headers:e})}catch(s){var n;return 401===s.response.status&&i.a.logout(),{statusCode:null===(n=s.response)||void 0===n?void 0:n.status}}},d=async e=>{const t=await fetch("".concat(r,"/subjects"),{method:"GET",headers:o(e)});return await t.json()},u=async e=>{const t=await fetch("".concat(r,"/areas"),{method:"GET",headers:o(e)});return await t.json()},b=async(e,t,a)=>{const n=await fetch("".concat(r,"/").concat(t,"s"),{method:"POST",headers:o(e),body:JSON.stringify(a)});return await n.json()},j=async(e,t,a,n)=>{const c="?page=".concat(a-1||0,"&size=").concat(n||s.a.ITEMS_PER_PAGE),i=null!==t&&void 0!==t&&t.subject?"&subjectName=".concat(t.subject):"",r=null!==t&&void 0!==t&&t.search?"&search=".concat(t.search):"",o="".concat(c).concat(i).concat(r),d=await l(e,"/latest",o),u={};return 200===d.status&&(u.data=d.data.content,u.totalItems=d.data.totalElements,u.statusCode=d.status),u},h=async(e,t,a,n,s,i)=>{const o="?page=".concat(n-1||0,"&size=").concat(s||10),l="&subjectId=".concat(t,"&areaId=").concat(a),d=null!==i&&void 0!==i&&i.search?"&search=".concat(i.search):"",u="".concat(o).concat(l).concat(d);try{const t=await c.a.put("".concat(r).concat(u),{},{headers:e});return{data:t.data,totalItems:t.headers["total-elements"]}}catch(b){console.log("Error: ".concat(b))}},m=async(e,t)=>{const a=await fetch("".concat(r),{method:"POST",headers:o(e),body:JSON.stringify(t)});return await a.json()},v=async(e,t)=>{var a;const n={subject:{id:t.subject.id},area:{id:t.area.id},client:{id:(null===t||void 0===t||null===(a=t.client)||void 0===a?void 0:a.id)||null},user:{id:t.user.id},questions:t.questions},c=await fetch("".concat(r,"/").concat(t.id),{method:"PUT",headers:o(e),body:JSON.stringify(n)});return await c.json()},p=async(e,t)=>{try{return await c.a.all(t.map((t=>c.a.delete("".concat(r,"/").concat(t),{headers:e}))))}catch(n){var a;return 401===n.response.status&&i.a.logout(),{statusCode:null===(a=n.response)||void 0===a?void 0:a.status,err:n}}},O=async(e,t,a)=>{try{let c={};const s="?pageNo=".concat(t-1,"&pageSize=").concat(a),i="/deleted",r=await l(e,i,s);var n;if(200===r.status)c.tableData=null===(n=r.data.content)||void 0===n?void 0:n.map((e=>{var t,a,n;return{id:e.id,cellOne:null===e||void 0===e||null===(t=e.subject)||void 0===t?void 0:t.name,cellTwo:null===e||void 0===e||null===(a=e.area)||void 0===a?void 0:a.name,cellThree:null===e||void 0===e||null===(n=e.client)||void 0===n?void 0:n.clientName}})),c.totalItems=r.data.totalElements,c.statusCode=r.status;return c}catch(s){var c;return 401===s.response.status&&i.a.logout(),{statusCode:null===(c=s.response)||void 0===c?void 0:c.status,err:s}}},g=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:s.a.ITEMS_PER_PAGE;const c=Object.entries(t).map((e=>{let[t,a]=e;return"".concat(t,"Name=").concat(a)})).join("&"),i="?page=".concat(a-1||0,"&size=").concat(n),r="".concat(i,"&").concat(c),o=await l(e,"/filter",r),d={};return 200===o.status&&(d.data=o.data.content,d.totalItems=o.data.totalElements,d.statusCode=o.status),d}},816:function(e,t,a){"use strict";a.d(t,"a",(function(){return m})),a.d(t,"e",(function(){return v})),a.d(t,"f",(function(){return p})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return x})),a.d(t,"g",(function(){return f})),a.d(t,"h",(function(){return S})),a.d(t,"d",(function(){return y}));var n=a(22),c=a(306),s=a(321),i=a(783),r=a(762),o=a(685),l=a(781),d=a(50),u=a(798),b=a(218),j=a(307),h=a(1);const m=["Subject","Area","Client"],v=e=>{const{openForm:t,toggleShareModal:a}=e;return Object(h.jsxs)("div",{className:"page-actions-container",children:[Object(h.jsx)("h1",{className:"page-header",children:"Interview Questions Guide"}),Object(h.jsxs)("div",{className:"flex-row",children:[Object(h.jsxs)(n.a,{type:"button",className:"btn main margin-right",handleClick:t,children:[Object(h.jsx)(r.a,{style:{fontSize:"12px",marginRight:"5px"}}),"Add Questions"]}),Object(h.jsx)(s.a,{btns:[{handleClick:a,title:"Share",child:Object(h.jsx)(o.a,{})},{handleClick:()=>console.log("click report"),title:"Export report",child:Object(h.jsx)(i.a,{}),disabled:!0}]})]})]})},p=e=>{const{closeForm:t,guide:a}=e;return Object(h.jsx)(c.a,{className:"header",crumbs:[{id:0,text:"Interview Question Guide",onClick:()=>t()},{id:1,text:"Add New Quide",lastCrumb:!0}]})},O={fontWeight:"600",fontSize:"12px",textTransform:"uppercase"},g=e=>[{title:Object(h.jsx)("div",{style:O,children:"Subject"}),dataIndex:"subject",key:"subject",render:(e,t)=>t.subject.name,filters:null===e||void 0===e?void 0:e.map((e=>({text:e.name,value:e.name}))),filterSearch:!0},{title:Object(h.jsx)("div",{style:O,children:"Area of focus"}),dataIndex:"area",key:"area",render:(e,t)=>t.area.name},{title:Object(h.jsx)("div",{style:O,children:"Modified by"}),dataIndex:"user",key:"user",width:150,render:(e,t)=>Object(d.j)(t.user)},{title:Object(h.jsx)("div",{style:O,children:"Modified on"}),dataIndex:"date",key:"date",width:120,render:(e,t)=>{var a=t.updatedAt.split("/")||t.createdAt.split("/");return new Date(+a[2],a[1]-1,+a[0]).toLocaleDateString()}}],x=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return[{title:Object(h.jsx)("div",{style:O,children:"Subject"}),dataIndex:"subject",render:(t,a)=>Object(h.jsx)(u.a,{label:t.name,onClick:()=>e?e(a.id):{}})},{title:Object(h.jsx)("div",{style:O,children:"Area of focus"}),dataIndex:"area",render:e=>e.name},{title:Object(h.jsx)("div",{style:O,children:"Client"}),dataIndex:"client",render:e=>null===e||void 0===e?void 0:e.clientName},{title:Object(h.jsx)("div",{style:O,children:"Modified by"}),dataIndex:"user",render:e=>Object(d.j)(e),width:150},{title:Object(h.jsx)("div",{style:O,children:"Modified on"}),dataIndex:"modifiedOn",key:"date",render:(e,t)=>new Date(t.updatedAt||t.createdAt).toLocaleDateString(),width:120}]},f=[{title:"Subject",dataIndex:"subject",render:e=>Object(h.jsx)("div",{children:e.name})},{title:"Area of focus",dataIndex:"area",render:e=>Object(h.jsx)("div",{children:e.name})},{title:"Client",dataIndex:"client",render:e=>Object(h.jsx)("div",{children:e.clientName})},{title:"Questions",dataIndex:"questions",render:e=>e&&e.length>35?Object(h.jsx)("span",{title:e,children:e.slice(0,35)+"..."}):e,width:280},{title:Object(h.jsx)("div",{children:"Modified on"}),dataIndex:"modifiedOn",key:"date",render:(e,t)=>new Date(t.updatedAt||t.createdAt).toLocaleDateString(),width:105}],S=e=>[{id:1,name:"Subject",options:e.Subject.map((e=>({id:e.id,name:e.name})))},{id:2,name:"Client",options:e.Clients.map((e=>({id:e.id,name:e.clientName})))}],y=e=>{const{closeForm:t,auth:a,toggleForm:s,handleSubmit:i,editEnabled:r}=e;return Object(h.jsx)(b.a,{breadcrumbs:Object(h.jsx)(c.a,{className:"header",crumbs:[{id:0,text:"Interview Question Guide",onClick:()=>t()},{id:1,text:"Edit Quide",lastCrumb:!0}]}),actions:Object(h.jsxs)(h.Fragment,{children:[r&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(n.a,{type:"button",handleClick:i,className:"btn main submit marginX",children:"Save Changes"}),Object(h.jsx)(n.a,{type:"button",handleClick:t,className:"btn main reset marginX",children:"Cancel"})]}),Object(h.jsx)(j.a,{children:Object(h.jsx)(n.a,{type:"button",handleClick:s,className:"btn icon marginX",title:"Edit",children:Object(h.jsx)(l.a,{})})})]})})}},820:function(e,t,a){},847:function(e,t,a){},971:function(e,t,a){},972:function(e,t,a){}}]);