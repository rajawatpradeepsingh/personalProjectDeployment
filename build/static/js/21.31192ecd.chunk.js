(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[21],{1097:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(75),o=a(16),r=a.n(o),s=a(11),i=a.n(s),l=a(25),d=a(13),u=a(822),b=a(838),p=a(808),h=a(805),g=a(219),v=a(218),j=a(804),O=a(798),f=a(806),m=a(801),y=a(1);const k=Object(n.forwardRef)(((e,t)=>{let{open:a,setOpen:c,...o}=e;const r=Object(n.useMemo)((()=>d.a.getHeaders()),[]),[s,i]=Object(n.useState)(1),[l,p]=Object(n.useState)(0),[h,g]=Object(n.useState)([]),v=Object(n.useCallback)((async()=>{const e=await Object(b.b)(r,s,10);e&&(g(e.data),p(e.totalItems))}),[s,r]);return Object(n.useEffect)((()=>{v()}),[s,r,v]),Object(n.useImperativeHandle)(t,(()=>({loadArchive(){v()},length:h.length}))),Object(y.jsx)(m.a,{openArchive:a,setOpenArchive:c,loadArchive:v,archive:h,archivedData:"onboarding",headers:Object(u.a)(),totalItems:l,setArchiveCurrentPage:i,archiveCurrentPage:s})}));var C=a(22),S=a(762),x=a(152),w=a(420);a(158);t.default=()=>{var e;const t=Object(c.useHistory)(),a=Object(n.useMemo)((()=>d.a.getHeaders()),[]),o=Object(n.useRef)(null),[s,m]=Object(n.useState)([]),[D,N]=Object(n.useState)(0),[I,U]=Object(n.useState)(10),[L,M]=Object(n.useState)(1),[Y,R]=Object(n.useState)(!1),[E,H]=Object(n.useState)({}),[P,A]=Object(n.useState)({}),[F,T]=Object(n.useState)(!1),[B,z]=Object(n.useState)([]),[J,W]=Object(n.useState)(!0),[K,V]=Object(n.useState)([]),[_,q]=Object(n.useState)([]),[G,Q]=Object(n.useState)([]),[X,Z]=Object(n.useState)(!0),[$,ee]=Object(n.useState)(!1),te=Object(n.useMemo)((()=>d.a.getUserInfo()),[]),[ae,ne]=Object(n.useState)(te.roles[0]),[ce,oe]=Object(n.useState)(!1),[re,se]=Object(n.useState)(!1);console.log(ae),Object(n.useEffect)((()=>{d.a.hasAdminRole()&&oe(!0)}),[]);const ie=Object(n.useCallback)((e=>{t.push("/onboarding/".concat(e))}),[t]),le=Object(n.useCallback)((async()=>{await r.a.get("".concat(l.a.serverURL,"/clients?dropdownFilter=true"),{headers:a}).then((e=>{e.data&&Q(e.data.map((e=>{var t;return{text:"".concat(e.clientName," (").concat(null===(t=e.address)||void 0===t?void 0:t.city,")"),value:e.id}})))})).catch((e=>console.log(e)))}),[a]);Object(n.useEffect)((()=>le()),[le]);const de=Object(n.useMemo)((()=>[{title:"Candidate",dataIndex:"candidateName",key:"candidate.firstName",sorter:!0,fixed:"left",width:170,render:(e,t)=>Object(y.jsx)(O.a,{label:e,onClick:()=>ie(t.id)})},{title:"Client",dataIndex:"client",key:"client.clientName",sorter:!0,width:150,filters:G,render:e=>Object(y.jsx)(f.a,{name:e.clientName,location:e.address.city})},{title:"Project",dataIndex:"project",key:"project",width:130},{title:"Hiring Type",dataIndex:"hiringType",key:"hiringType",sorter:!0,width:110,filters:u.b,filterMultiple:!1},{title:"Start Date",dataIndex:"startDate",key:"startDate",render:e=>e?"".concat(i()(e).format("MM/DD/YYYY")):"",width:110},{title:"End Date",dataIndex:"endDate",key:"endDate",render:e=>e?"".concat(i()(e).format("MM/DD/YYYY")):"",width:110},{title:"Contract",dataIndex:"signUpContract",key:"signUpContract",width:110},{title:"Laptop Delivery",dataIndex:"deliveryOfLaptop",key:"deliveryOfLaptop",width:110},{title:"Ease Set Up",dataIndex:"easePortalSetUp",key:"easePortalSetUp",width:110},{title:"Workorder",dataIndex:"workOrder",key:"workOrder",width:110},{title:"Background Check",dataIndex:"backgroundCheck",key:"backgroundCheck",width:110}]),[G,ie]);Object(n.useEffect)((()=>{V(de)}),[de,G]);const ue=Object(n.useCallback)((async()=>{const e="pageNo=".concat(L,"&pageSize=-1");if(Object.keys(E).length){let e="";for(const a in P)a&&(e+="&orderBy=".concat(a,"&orderMode=").concat(P[a]));const t=Object.keys(E).length?E:null;W(!0);const n=await Object(b.d)(a,L,I,e||"&orderBy=id&orderMode=desc",t);n&&W(!1),200===n.status&&(m(n.data),N(n.totalItems)),200!==n.status&&w.b.error("Something's gone wrong, refresh page or contact your system admin")}else{let t="?".concat(e);for(const e in P)e&&(t+="&orderBy=".concat(e,"&orderMode=").concat(P[e]));const n=await Object(b.c)(a,t);n&&W(!1),200===n.statusCode&&(m(n.tableData),N(n.totalItems)),200!==n.statusCode&&w.b.error("Something's gone wrong, refresh page or contact your system admin")}}),[E,L,I,a,P]);Object(n.useEffect)((()=>{ue()}),[ue,E,null===o||void 0===o||null===(e=o.current)||void 0===e?void 0:e.length]);const be=Object(n.useCallback)((e=>{H({...E,search:e})}),[E]),pe=Object(n.useCallback)((e=>{let t=[];for(let a in e)if("string"!==typeof e[a]&&"number"!==typeof e[a]||"id"===a||""===e[a])"object"===typeof e[a]&&"candidate"!==a&&"resume"!==a&&(t=t.concat(pe(e[a])));else if("candidateName"===a){let n=e[a].split(" ");t.push(n[0],n[1],n[2])}else t.push(e[a]);return t}),[]);Object(n.useEffect)((()=>{if(s){let e=[];for(let t of s){pe(t).forEach((t=>{e.includes(t)||e.push(t)}))}z(e)}}),[s,E,pe]);const he={onChange:(e,t)=>{q(e)},selectedRowKeys:_};return Object(y.jsxs)(g.a,{children:[Object(y.jsx)(v.a,{title:"Onboardings",actions:ce||ae.onBoardingsPermission?Object(y.jsxs)(C.a,{type:"button",className:"btn main",handleClick:()=>{t.push("/addonboarding")},children:[Object(y.jsx)(S.a,{className:"icon"}),"Add Onboarding"]}):""}),Object(y.jsx)(x.a,{onActive:()=>{Z(!0)},onIdle:()=>{Z(!1)},onLogout:()=>{ee(!0)}}),Object(y.jsx)(j.a,{loading:J,data:s.map((e=>({...e,key:e.id}))),columns:K,setColumns:V,defaultColumns:de,rowSelection:!(!ce&&!ae.onBoardingsPermission)&&he,total:D,setCurrentPage:M,setPageSize:U,setSort:A,setFilters:H,filters:E,searchOptions:B,searchList:s,handleSearch:be,openArchive:()=>R(!0),openReports:()=>T(!0),handleConfirmArchive:async()=>{await r.a.all(_.map((e=>r.a.delete("".concat(l.a.serverURL,"/onboarding/").concat(e),{headers:a})))).then((e=>{ue(),q([]),w.b.success("Onboarding record archived successfully!"),o.current.loadArchive()})).catch((e=>{e.response&&401===e.response.status&&d.a.logout()}))},handleCancelArchiving:()=>{q([])},removeableColumns:de.filter((e=>"Candidate"!==e.title&&e.title)).map((e=>e.title))}),Object(y.jsx)(k,{open:Y,setOpen:R,ref:o}),Object(y.jsx)(h.a,{showReportModal:F,setShowReportModal:T,individualReportName:"onboarding",individualList:s,list:s.map((e=>({id:e.id,name:e.candidateName}))),listLabel:"Onboarding",filename:"onboarding_report",tableFields:Object(u.c)(),pdfFormatter:p.a.onboardingPdfFormat,csvExcelFormatter:p.a.onboardingCSVExcel})]})}},798:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(800);var n=a(1);const c=e=>Object(n.jsxs)("div",{className:"tablelink-container",children:[Object(n.jsx)("span",{onClick:e.onClick,className:"tablelink ".concat(e.styleRed&&"red"," ").concat(e.className&&e.className),children:e.label}),e.extra&&Object(n.jsx)("span",{className:"table-link-extra",children:e.extra})]})},806:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(807);var n=a(1);const c=e=>{let{name:t,location:a,...c}=e;return Object(n.jsxs)("div",{className:"client-details-container",children:[Object(n.jsx)("span",{children:t}),Object(n.jsx)("span",{children:a}),c.extra&&Object(n.jsx)("span",{children:c.extra})]})}},807:function(e,t,a){},822:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o}));const n=()=>[{label:"Hiring Type ",value:"hiringType",key:"hiringType"},{label:"Start Date",value:"startDate",key:"startDate"},{label:"End Date",value:"endDate",key:"endDate"},{label:"Sign Up Contract",value:"signUpContract",key:"signUpContract"},{label:"Client",value:"client",key:"client"},{label:"Ease Portal Setup",value:"easePortalSetUp",key:"easePortalSetUp"},{label:"Work Order",value:"workOrder",key:"workOrder"},{label:"Background Check",value:"backgroundCheck",key:"backgroundCheck"},{label:"Delivery Of Laptop",value:"deliveryOfLaptop",key:"deliveryOfLaptop"}],c=()=>["Candidate Name","Client","Hiring Type","Start Date","End Date","Sign Up Contract","Delivery Of Laptop"],o=[{text:"Direct Hire",value:"Direct Hire"},{text:"Internal Hire",value:"Internal Hire"},{text:"Corp to Corp Hire",value:"Corp to Corp Hire"}]},838:function(e,t,a){"use strict";a.d(t,"c",(function(){return d})),a.d(t,"a",(function(){return b})),a.d(t,"e",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"b",(function(){return g}));var n=a(25),c=a(16),o=a.n(c),r=a(13),s=a(11),i=a.n(s);const l="".concat(n.a.serverURL,"/onboarding"),d=async function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").concat(t);return await u(e,a)},u=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const n=await o.a.get("".concat(l).concat(t).concat(a),{headers:e});let c={};return 200===n.status&&(c.tableData=(e=>e.map((e=>({...e,candidateName:"".concat(e.candidate.firstName," ").concat(e.candidate.lastName)}))))(n.data),c.totalItems=n.headers["total-elements"],c.statusCode=n.status),c}catch(c){var n;return 401===c.response.status&&r.a.logout(),{statusCode:null===(n=c.response)||void 0===n?void 0:n.status}}},b=async(e,t)=>{try{const a=await o.a.get("".concat(n.a.serverURL,"/onboarding/").concat(t),{headers:e});let c={};return 200===a.status&&(c.onBoardingdata=a.data,c.onBoardingDetails=a.data,c.statusCode=a.status),c}catch(c){var a;return console.log(c),{statusCode:null===(a=c.response)||void 0===a?void 0:a.status}}},p=async(e,t,a)=>{try{const c=await o.a.patch("".concat(n.a.serverURL,"/onboarding/").concat(a),t,{headers:e});if(200===c.status)return{statusCode:200,data:c.data};if(401===c.status)return{statusCode:401}}catch(c){return console.log(c),{statusCode:c.response.status}}},h=async function(e,t,a){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{const r=n||c?n?"?dropdownFilter=true&pageNo=".concat(t-1,"&pageSize=").concat(a,"&").concat(n):"?dropdownFilter=true&pageNo=".concat(t-1,"&pageSize=").concat(a):"?pageNo=".concat(t-1,"&pageSize=-1"),s=c?await o.a.put("".concat(l).concat(r),c,{headers:e}):await o.a.get("".concat(l).concat(r),{headers:e});if(200===s.status)return{data:s.data.map((e=>{var t,a;return{...e,candidateName:"".concat(null===(t=e.candidate)||void 0===t?void 0:t.firstName," ").concat(null===(a=e.candidate)||void 0===a?void 0:a.lastName)}})),totalItems:s.headers["total-elements"],status:s.status}}catch(d){var s,i;return 401===(null===(s=d.response)||void 0===s?void 0:s.status)&&r.a.logout(),{status:null===(i=d.response)||void 0===i?void 0:i.status}}},g=async(e,t,a)=>{try{const c=await o.a.get("".concat(n.a.serverURL,"/onboarding?archives=true&pageNo=").concat(t-1,"&pageSize=").concat(a),{headers:e});if(c)return{data:c.data.length?c.data.map((e=>{var t,a,n;return{id:e.id,cellOne:"".concat(null===(t=e.candidate)||void 0===t?void 0:t.firstName," ").concat(null===(a=e.candidate)||void 0===a?void 0:a.lastName)||"",cellTwo:(null===(n=e.client)||void 0===n?void 0:n.clientName)||"",cellThree:e.hiringType||"",cellFour:e.startDate?i()(e.startDate).format("MM/DD/YYYY"):"",cellFive:e.endDate?i()(e.endDate).format("MM/DD/YYYY"):"",cellSix:e.signUpContract||"",cellSeven:e.deliveryOfLaptop||""}})):[],totalItems:c.headers["total-elements"]}}catch(c){console.log(c)}}}}]);