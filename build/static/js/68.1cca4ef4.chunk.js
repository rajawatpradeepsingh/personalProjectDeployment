(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[68],{1099:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(75),n=a(16),i=a.n(n),l=a(25),o=a(13),r=a(27),d=a(22),m=a(325),b=a(50),j=a(205),u=a(664),h=a(1);const O=e=>{const[t,a]=Object(s.useState)({}),[c,n]=Object(s.useState)({}),[i,l]=Object(s.useState)(),[o,O]=Object(s.useState)(),p=b.a();Object(s.useEffect)((()=>{a(e.meeting),l(b.l(e.meeting.start_time)),O(b.o(e.meeting.start_time))}),[e.meeting]),Object(s.useEffect)((()=>{l(b.l(t.start_time)),O(b.o(t.start_time))}),[t.start_time]);const g=()=>{n({}),a({}),e.setShowModal(!1)},x=e=>{const s={date:i,startTime:o,[e.target.name]:e.target.value},l=b.p(s.date,s.startTime),r=b.q(s.date,s.startTime);a({...t,start_time:"".concat(l,"T").concat(r,"Z")}),n({...c,start_time:"".concat(l,"T").concat(r,"Z")})};return Object(h.jsx)(h.Fragment,{children:e.showModal&&Object(h.jsx)("div",{className:"modal-container",children:Object(h.jsxs)("div",{className:"edit-modal-comp",children:[Object(h.jsx)("button",{onClick:g,className:"modal-close-btn",children:Object(h.jsx)(u.a,{className:"close-svg"})}),Object(h.jsx)("div",{className:"edit-modal-header",children:Object(h.jsx)("h2",{className:"edit-modal-heading",children:"Zoom Meeting Details"})}),Object(h.jsxs)("form",{className:"modal-form",children:[Object(h.jsx)(r.a,{type:"text",label:"Topic",name:"topic",id:"topic",value:t.topic||"",disabled:!0}),Object(h.jsx)(r.a,{type:"text",label:"Agenda",name:"topic",id:"topic",value:t.agenda||"",disabled:!0}),Object(h.jsx)(m.a,{label:"Start date",required:!0,id:"date",className:"long-size",name:"date",value:i,onChange:x}),Object(h.jsx)(j.a,{label:"Start time",required:!0,id:"startTime",className:"long-size",name:"startTime",value:o,onChange:x}),Object(h.jsx)(r.a,{type:"text",label:"Time zone",name:"timezone",id:"timezone",value:p||"",disabled:!0}),Object(h.jsx)(r.a,{type:"text",label:"Duration (minutes)",name:"duration",id:"duration",value:t.duration||"",onChange:e=>{a({...t,[e.target.name]:e.target.value}),n({...c,[e.target.name]:e.target.value})}}),Object(h.jsxs)("div",{className:"form-btns",children:[Object(h.jsx)(d.a,{type:"submit",className:"outline submit",handleClick:a=>{a.preventDefault(),e.handleSubmitForm(t.id,c),g()},children:"Save"}),Object(h.jsx)(d.a,{type:"cancel",className:"outline reset",handleClick:g,children:"Cancel"})]})]})]})})})};var p=a(91),g=a(28),x=a(96),v=a(137),f=a(313),S=a(426),N=a(306);t.default=()=>{const[e,t]=Object(s.useState)([]),[a,n]=Object(s.useState)(!1),[r,m]=Object(s.useState)({}),[b,j]=Object(s.useState)(!1),[u,C]=Object(s.useState)(),[y]=Object(s.useState)(o.a.getHeaders()),T=Object(c.useHistory)(),w=Object(g.b)(),{navMenuOpen:z}=Object(g.c)((e=>e.nav)),k=Object(s.useCallback)((()=>{o.a.logout(),w(Object(p.b)(!1))}),[w]),M=Object(s.useCallback)((()=>{i.a.get("".concat(l.a.serverURL,"/zoom/meetings/list"),{headers:y}).then((e=>{e.data&&t(e.data.meetings)})).catch((e=>{t([]),e.response&&401===e.response.status&&k()}))}),[y,k]);Object(s.useEffect)((()=>{M()}),[M,y]);return Object(h.jsxs)("div",{className:z?"page-container":"page-container full-width",children:[Object(h.jsx)("div",{className:"page-actions-container",children:Object(h.jsx)(N.a,{className:"header",crumbs:[{id:0,text:"Interviews",onClick:()=>{T.push("/viewinterviews")}},{id:1,text:"Manage Auto-Generated Zoom Meetings",lastCrumb:!0}]})}),Object(h.jsxs)(v.a,{children:[Object(h.jsxs)("p",{className:"records-count",children:["Total records: ",Object(h.jsx)("span",{children:e.length})]}),Object(h.jsx)(f.a,{headers:[{label:Object(h.jsx)(S.a,{style:{fontSize:"20px",marginLeft:"5px"}})},{label:"Client"},{label:"Agenda"},{label:"Start Time"},{label:"Time Zone"}],body:e.length?e.map((e=>({id:e.id,cells:[{id:0,data:Object(h.jsx)(d.a,{type:"button",handleClick:()=>{return e.id,C(t),void j(!0);var t},className:"icon-btn delete",children:Object(h.jsx)(S.a,{style:{fontSize:"20px",marginLeft:"2px"}})})},{id:1,data:e.topic,onClick:()=>{return t=e.id,void i.a.get("".concat(l.a.serverURL,"/zoom/meeting/").concat(t),{headers:y}).then((e=>{e.data&&(m(e.data),n(!0))})).catch((e=>{console.log(e),e.response&&401===e.response.status&&k(),n(!0)}));var t},className:"clickable"},{id:2,data:e.agenda},{id:3,data:e.start_time},{id:4,data:e.timezone}]}))):[]}),Object(h.jsx)(O,{showModal:a,setShowModal:n,meeting:r,handleSubmitForm:(a,s)=>{i.a.patch("".concat(l.a.serverURL,"/zoom/meeting/").concat(a),{...s},{headers:y}).then((()=>{const c=e.map((e=>e.id===a?{...e,...s}:e));t(c)})).catch((e=>{e.response&&401===e.response.status&&k()}))}}),Object(h.jsx)(x.a,{openModal:b,type:"warning",confirmValue:"DELETE",cancelValue:"CANCEL",handleConfirmClose:()=>{i.a.delete("".concat(l.a.serverURL,"/zoom/meeting/delete/").concat(u),{headers:y}).then((()=>t(e.filter((e=>e.id!==u))))).catch((e=>{e.response&&401===e.response.status&&k()})),j(!1)},closePopUp:()=>{C(null),j(!1)},message:{title:"Warning",details:"Are you sure you want to delete the entry?"}})]})]})}}}]);