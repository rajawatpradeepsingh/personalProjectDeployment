(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[17],{1035:function(e,t,a){"use strict";var s=a(10),n=a(2),c=a(0),o=a(17),r=a(759),l=a(758),i=a(14),d=a(20),m=a(15),u=a(773),b=a(760),j=a(665);function v(e){return Object(j.a)("MuiAlert",e)}var p=Object(b.a)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),O=a(794),h=a(79),g=a(1),x=Object(h.a)(Object(g.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),f=Object(h.a)(Object(g.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),y=Object(h.a)(Object(g.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=Object(h.a)(Object(g.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),N=Object(h.a)(Object(g.jsx)("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");const S=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],M=Object(i.a)(u.a,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["".concat(a.variant).concat(Object(m.a)(a.color||a.severity))]]}})((e=>{let{theme:t,ownerState:a}=e;const s="light"===t.palette.mode?l.b:l.d,c="light"===t.palette.mode?l.d:l.b,o=a.color||a.severity;return Object(n.a)({},t.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===a.variant&&{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:s(t.palette[o].light,.6),backgroundColor:t.vars?t.vars.palette.Alert["".concat(o,"StandardBg")]:c(t.palette[o].light,.9),["& .".concat(p.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}},o&&"outlined"===a.variant&&{color:t.vars?t.vars.palette.Alert["".concat(o,"Color")]:s(t.palette[o].light,.6),border:"1px solid ".concat((t.vars||t).palette[o].light),["& .".concat(p.icon)]:t.vars?{color:t.vars.palette.Alert["".concat(o,"IconColor")]}:{color:t.palette[o].main}},o&&"filled"===a.variant&&Object(n.a)({fontWeight:t.typography.fontWeightMedium},t.vars?{color:t.vars.palette.Alert["".concat(o,"FilledColor")],backgroundColor:t.vars.palette.Alert["".concat(o,"FilledBg")]}:{backgroundColor:"dark"===t.palette.mode?t.palette[o].dark:t.palette[o].main,color:t.palette.getContrastText(t.palette[o].main)}))})),T=Object(i.a)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),k=Object(i.a)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),A=Object(i.a)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),w={success:Object(g.jsx)(x,{fontSize:"inherit"}),warning:Object(g.jsx)(f,{fontSize:"inherit"}),error:Object(g.jsx)(y,{fontSize:"inherit"}),info:Object(g.jsx)(C,{fontSize:"inherit"})},I=c.forwardRef((function(e,t){var a,c,l,i,u,b;const j=Object(d.a)({props:e,name:"MuiAlert"}),{action:p,children:h,className:x,closeText:f="Close",color:y,components:C={},componentsProps:I={},icon:E,iconMapping:R=w,onClose:L,role:F="alert",severity:z="success",slotProps:B={},slots:P={},variant:D="standard"}=j,V=Object(s.a)(j,S),q=Object(n.a)({},j,{color:y,severity:z,variant:D}),H=(e=>{const{variant:t,color:a,severity:s,classes:n}=e,c={root:["root","".concat(t).concat(Object(m.a)(a||s)),"".concat(t)],icon:["icon"],message:["message"],action:["action"]};return Object(r.a)(c,v,n)})(q),W=null!=(a=null!=(c=P.closeButton)?c:C.CloseButton)?a:O.a,K=null!=(l=null!=(i=P.closeIcon)?i:C.CloseIcon)?l:N,U=null!=(u=B.closeButton)?u:I.closeButton,X=null!=(b=B.closeIcon)?b:I.closeIcon;return Object(g.jsxs)(M,Object(n.a)({role:F,elevation:0,ownerState:q,className:Object(o.a)(H.root,x),ref:t},V,{children:[!1!==E?Object(g.jsx)(T,{ownerState:q,className:H.icon,children:E||R[z]||w[z]}):null,Object(g.jsx)(k,{ownerState:q,className:H.message,children:h}),null!=p?Object(g.jsx)(A,{ownerState:q,className:H.action,children:p}):null,null==p&&L?Object(g.jsx)(A,{ownerState:q,className:H.action,children:Object(g.jsx)(W,Object(n.a)({size:"small","aria-label":f,title:f,color:"inherit",onClick:L},U,{children:Object(g.jsx)(K,Object(n.a)({fontSize:"small"},X))}))}):null]}))}));t.a=I},1096:function(e,t,a){"use strict";a.r(t);var s=a(137),n=a(66),c=a(0),o=(a(802),a(306)),r=a(22),l=a(307),i=a(75),d=a(28),m=a(25),u=a(50),b=a(16),j=a.n(b),v=a(13),p=a(91),O=a(96),h=a(334),g=a(844),x=a(781),f=a(685),y=a(783),C=a(219),N=a(218),S=a(420),M=a(309),T=a(1035),k=a(152),A=a(35),w=a(95),I=a(27),E=(a(829),a(1));var R=e=>{const t=Object(d.b)(),{editDisabled:a,editEnabled:s}=Object(d.c)((e=>e.commissionType)),{inputErr:n,requiredErr:o}=Object(d.c)((e=>e.commissionType)),{commissionTypeDetails:r}=Object(d.c)((e=>e.commissionType)),l=e=>t(Object(h.c)(e)),i=e=>t(Object(h.e)(e)),m=e=>t(Object(h.b)(e)),[u,b]=Object(c.useState)(!0),j=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;m(!0);const s=Object(w.a)(a,e.target.value);let c;var d;""!==e.target.value&&(c={...o},delete c[e.target.name],d=c,t(Object(h.f)(d))),l({...r,[e.target.name]:e.target.value}),s?(c={...n},delete c[e.target.name],i(c)):i({...n,[e.target.name]:"Invalid format or characters"})},v=(e,t)=>{const a=""!==e&&""!==t&&parseFloat(e)<parseFloat(t);b(a)};return s?Object(E.jsxs)(c.Fragment,{children:[Object(E.jsx)("h3",{className:"disabled-form-section-header",children:"Basic Information"}),Object(E.jsx)(A.a,{type:"text",label:"Commision Type",name:"name",value:null===r||void 0===r?void 0:r.name,onChange:e=>j(e),options:[{id:1,value:"Percentage",name:"Percentage"}],required:!0,disabled:!s}),Object(E.jsx)(I.a,{type:"text",label:"Commission Rate",name:"commRate",className:"align",value:null===r||void 0===r?void 0:r.commRate,onChange:e=>j(e,"validateNum"),errMssg:n.commRate,required:!0,disabled:!s}),Object(E.jsxs)("div",{className:"marginFloor",children:[Object(E.jsx)(I.a,{type:"text",label:"Margin Floor ($)",name:"marginFloor",className:"margin",value:null===r||void 0===r?void 0:r.marginFloor,onChange:e=>j(e,"validateNum"),errMssg:n.marginFloor,required:!0,disabled:!s}),Object(E.jsx)("div",{className:"floor",children:"-"}),Object(E.jsx)(I.a,{type:"text",label:"Margin Ceiling ($)",name:"marginCeiling",className:"margin",value:null===r||void 0===r?void 0:r.marginCeiling,onChange:e=>{return t=e,m(!0),l({...r,[t.target.name]:t.target.value}),void v(t.target.marginFloor,t.target.value);var t},errMssg:n.marginCeiling,required:!0,disabled:!s})]}),!u&&Object(E.jsx)("p",{style:{color:"red",fontSize:"9px",paddingLeft:"35px"},children:" * Please make sure margin Floor is less than margin Ceiling."})]}):Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:"disabled-form-section small",children:[Object(E.jsx)("h3",{className:"disabled-form-section-header",children:"Basic Information"}),Object(E.jsxs)("div",{className:"disabled-form-section-content",children:[Object(E.jsxs)("span",{className:"disabled-form-text",children:[Object(E.jsx)("span",{className:"disabled-form-bold-text",children:"Commision Type:"}),null===r||void 0===r?void 0:r.name,","]}),Object(E.jsxs)("span",{className:"disabled-form-align",children:[Object(E.jsx)("span",{className:"disabled-form-bold-text",children:"Commission Rate:"}),null===r||void 0===r?void 0:r.commRate]}),Object(E.jsxs)("span",{className:"disabled-form-align",children:[Object(E.jsx)("span",{className:"disabled-form-bold-text",children:"Margin Bracket ($):"}),null===r||void 0===r?void 0:r.commMargin]})]})]})})},L=a(86);var F=e=>{const t=Object(d.b)(),{editDisabled:a,editEnabled:s}=Object(d.c)((e=>e.commissionType)),{inputErr:n,requiredErr:o}=Object(d.c)((e=>e.commissionType)),{commissionTypeDetails:r}=Object(d.c)((e=>e.commissionType)),l=e=>t(Object(h.e)(e)),i=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var s;s=!0,t(Object(h.b)(s));const c=Object(w.a)(a,e.target.value);let i;""!==e.target.value&&(i={...o},delete i[e.target.name],(e=>{t(Object(h.f)(e))})(i)),(e=>{t(Object(h.c)(e))})({...r,[e.target.name]:e.target.value}),c?(i={...n},delete i[e.target.name],l(i)):l({...n,[e.target.name]:"Invalid format or characters"})};return Object(E.jsxs)(c.Fragment,{children:[Object(E.jsx)("h3",{className:"disabled-form-section-header",children:"Basic Information"}),Object(E.jsx)(L.a,{label:"Comments",name:"comments",value:null===r||void 0===r?void 0:r.comments,onChange:e=>i(e),charCount:"".concat(null!==r&&void 0!==r&&r.comments?3e3-(null===r||void 0===r?void 0:r.comments.length):3e3," of 3000"),maxLength:"3000",disabled:!s})]})},z=a(310),B=a(786);t.default=()=>{var e,t;const a=Object(i.useParams)(),[b,A]=Object(c.useState)("1"),[w]=Object(c.useState)(v.a.getHeaders()),I=Object(i.useHistory)(),[L,P]=Object(c.useState)(!1),[D]=Object(c.useState)("".concat(m.a.serverURL,"/commissionType")),[V]=Object(c.useState)({}),[q,H]=Object(c.useState)(!1),{editEnabled:W}=Object(d.c)((e=>e.commissionType)),{commissionTypeDetails:K}=Object(d.c)((e=>e.commissionType)),{requiredErr:U}=Object(d.c)((e=>e.commissionType)),{changesMade:X}=Object(d.c)((e=>e.commissionType)),$=Object(d.b)(),[J,Z]=Object(c.useState)({}),[G]=Object(c.useState)(""),[Q,Y]=Object(c.useState)(!0),[_,ee]=Object(c.useState)(!0),[te,ae]=Object(c.useState)(!1),se=Object(c.useCallback)((()=>{$(Object(p.b)(!1)),v.a.logout()}),[$]),ne=Object(c.useCallback)((e=>$(Object(h.d)(e))),[$]);Object(c.useEffect)((()=>{W&&+b>2&&A("1")}),[W,b]);const ce=Object(c.useCallback)((e=>$(Object(h.c)(e))),[$]),oe=Object(c.useCallback)((async()=>{try{const e=null===a||void 0===a?void 0:a.commTypeId;if(!e)return;const t=await Object(g.b)(w,e);200===t.statusCode?ce(t.commTypeData):401===t.statusCode&&se()}catch(e){console.log(e)}}),[null===a||void 0===a?void 0:a.commTypeId,w,ce,se]);Object(c.useEffect)((()=>{oe()}),[Q,W,oe]);const re=()=>{X?(P(!0),Z({title:"Confirm Discard Changes",details:"All changes will be discarded, proceed?",confirmValue:"Confirm",cancelValue:"Cancel"})):ne(!1)},le=e=>{if(e.preventDefault(),Object.keys(V).length>0||Object.keys(U).length>0)H(!0);else{H(!1);const t={};j.a.post("".concat(D,"/checks/").concat(K.id),t,{headers:w}).then((t=>{200===t.status&&ie(e)})).catch((e=>{u.d(e),P(!0),Z({title:"Error",details:"".concat(e.response.data),confirmValue:"Close"})}))}},ie=async e=>{e.preventDefault();const t="isLoading",a={...K};try{const e=await Object(g.e)(w,a,K.id);200===e.statusCode?(ue(),Y(!0),ce(e.data),S.b.success({content:"Commission Type updated!",messgKey:t,duration:5,style:{marginTop:"5%"}})):S.b.error({content:"An error occurred while saving changes (".concat(e.statusCode,")"),messgKey:t,duration:10})}catch(n){var s;401===(null===(s=n.response)||void 0===s?void 0:s.status)&&se()}},de=()=>{P(!1),Z({})},me=()=>{ce(),ne(!1)},ue=()=>{ne(!1)};return Object(E.jsxs)(C.a,{children:[Object(E.jsx)(k.a,{onActive:()=>{ee(!0)},onIdle:()=>{ee(!1)},onLogout:()=>{ae(!0)}}),Object(E.jsx)(N.a,{breadcrumbs:Object(E.jsx)(o.a,{className:"header",crumbs:[{id:0,text:"Commission Type",onClick:()=>(ue(),ne(!1),void I.push("/viewcommissiontype"))},{id:1,text:"".concat(null===K||void 0===K?void 0:K.name),lastCrumb:!0}]}),actions:Object(E.jsxs)(l.a,{children:[Object(E.jsx)(r.a,{type:"button",handleClick:()=>{W?me():(ne(!W),Y(!Q))},className:"btn icon marginX",title:"Edit",children:Object(E.jsx)(x.a,{})}),Object(E.jsx)(r.a,{type:"button",disabled:!0,className:"btn icon marginX",title:"Share",children:Object(E.jsx)(f.a,{})}),Object(E.jsx)(r.a,{type:"button",disabled:!0,className:"btn icon marginX",title:"Export Report",children:Object(E.jsx)(y.a,{})})]})}),Object(E.jsxs)(M.a,{children:[q&&Object(E.jsx)("span",{className:"fixed-error-banner",children:"Resolve errors before submitting: ".concat(Object.keys(V).concat(Object.keys(U)).join(", "))}),Object(E.jsx)(s.a,{className:"x-small",children:Object(E.jsxs)(n.a,{className:"column small",onSubmit:le,cancel:re,formEnabled:W,children:[Object(E.jsx)(R,{}),G&&Object(E.jsx)(T.a,{severity:"error",style:{width:"100%",marginBottom:"10px"},children:G})]})}),Object(E.jsx)(s.a,{className:"medium",children:Object(E.jsxs)(n.a,{className:"column small",onSubmit:le,cancel:re,formEnabled:W,children:[Object(E.jsx)(z.a,{activeKey:b,setActiveKey:e=>{A(e)},items:[{key:"1",label:Object(E.jsxs)("span",{children:[Object(E.jsx)(B.a,{})," Comments"]}),children:Object(E.jsx)(F,{})}]}),G&&Object(E.jsx)(T.a,{severity:"error",style:{width:"100%",marginBottom:"10px"},children:G})]})}),Object(E.jsx)(O.a,{openModal:L,type:(null===(e=J.title)||void 0===e?void 0:e.toLowerCase())||"",closePopUp:de,handleConfirmClose:null!==(t=J.title)&&void 0!==t&&t.includes("Confirm")?me:de,confirmValue:J.confirmValue,cancelValue:J.cancelValue,message:J})]})]})}},802:function(e,t,a){"use strict";var s=a(0),n=a(1066),c=a(22),o=a(1042),r=a(677),l=(a(803),a(158),a(1));t.a=e=>{var t,a,i;const[d,m]=Object(s.useState)(0),u=null===(t=e.steps)||void 0===t?void 0:t.map((e=>({title:e.title,subTitle:e.subTitle&&e.subTitle,icon:e.icon&&e.icon,status:e.status&&e.status})));Object(s.useEffect)((()=>{m(e.index||0)}),[e.index]);return Object(l.jsxs)("div",{className:"form-nav-container",children:[Object(l.jsx)(n.a,{className:"form-nav-steps",current:d,percent:e.percent,onChange:e.clickable?t=>{m(t),e.setCurrentPage(e.steps[t])}:null,type:e.type&&"navigation"===e.type?"navigation":"",items:u}),Object(l.jsx)("div",{className:"steps-content-container",children:e.children}),Object(l.jsxs)("div",{className:"steps-action",children:[!e.hideNavBtns&&Object(l.jsxs)(c.a,{type:"button",name:"form-nav-back-btn",className:"icon-btn icon-text no-border",handleClick:()=>(m(d-1),void e.setCurrentPage(e.steps[d-1])),disabled:0===d,children:[Object(l.jsx)(o.a,{}),"Previous"]}),e.canSubmit&&!e.hideFormBtns&&Object(l.jsx)(c.a,{type:"reset",name:"form-reset-btn",className:"btn main reset",handleClick:()=>{e.reset(),m(0)},children:"Cancel"}),e.canSubmit&&!e.hideFormBtns&&Object(l.jsx)(c.a,{type:"submit",name:"form-submit-btn",className:"btn main submit",disabled:e.submitError,handleClick:t=>(t=>{e.submit(t),m(0)})(t),children:"Submit"}),!e.hideFormBtns&&Object(l.jsxs)(c.a,{type:"button",name:"form-nav-next-btn",className:"icon-btn icon-text no-border",handleClick:()=>(m(d+1),void e.setCurrentPage(e.steps[d+1])),disabled:e.error||(null===(a=e.steps[d])||void 0===a?void 0:a.hasRequiredFields)&&e.percent<100||d>=(null===(i=e.steps)||void 0===i?void 0:i.length)-1,children:["Next",Object(l.jsx)(r.a,{})]})]})]})}},803:function(e,t,a){},829:function(e,t,a){},844:function(e,t,a){"use strict";a.d(t,"b",(function(){return d})),a.d(t,"c",(function(){return m})),a.d(t,"d",(function(){return u})),a.d(t,"e",(function(){return b})),a.d(t,"a",(function(){return j}));var s=a(16),n=a.n(s),c=a(25),o=a(13);const r="".concat(c.a.serverURL,"/commissionType"),l=e=>e.map((e=>({...e}))),i=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const s=await n.a.get("".concat(r).concat(t).concat(a),{headers:e});let c={};return 200===s.status&&(c.tableData=l(s.data),c.totalItems=s.headers["total-elements"],c.statusCode=s.status),c}catch(c){var s;return 401===c.response.status&&o.a.logout(),{statusCode:null===(s=c.response)||void 0===s?void 0:s.status}}},d=async(e,t)=>{try{const a=await n.a.get("".concat(r,"/").concat(t),{headers:e});let s={};return 200===a.status&&(s.commTypeData=a.data,s.statusCode=a.status),s}catch(c){var a,s;return 401===(null===(a=c.response)||void 0===a?void 0:a.status)&&o.a.logout(),{statusCode:null===(s=c.response)||void 0===s?void 0:s.status}}},m=async function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").concat(t);return await i(e,a)},u=async(e,t,a,s,c,i)=>{const d=c?"&orderBy=".concat(c,"&orderMode=").concat(i):"",m="pageNo=".concat(t-1,"&pageSize=").concat(a);let u="".concat(r,"?dropdownFilter=true&").concat(m);Object.keys(d).length&&(u+="".concat(d));try{const t=await n.a.put(u,s,{headers:e});if(t)return{statusCode:t.status,data:t.data.length?l(t.data):[],totalItems:t.headers["total-elements"]}}catch(v){var b,j;return console.log(v),401===(null===(b=v.response)||void 0===b?void 0:b.status)&&o.a.logout(),{statusCode:null===(j=v.response)||void 0===j?void 0:j.status}}},b=async(e,t,a)=>{try{const s=await n.a.put("".concat(r,"/").concat(a),t,{headers:e});if(200===s.status)return{statusCode:200,data:s.data};if(401===s.status)return{statusCode:s.status}}catch(c){var s;return 401===c.response.status&&o.a.logout(),{statusCode:null===(s=c.response)||void 0===s?void 0:s.status}}},j=async(e,t,a)=>{try{const s=await n.a.get("".concat(r,"?archives=true&pageNo=").concat(t-1,"&pageSize=").concat(a),{headers:e});return 200===s.status?{tableData:s.data.map((e=>({id:e.id,cellOne:e.name,cellTwo:e.commRate||"n/a",cellThree:e.commMargin||"n/a"}))),totalItems:s.headers["total-elements"]}:{tableData:[],totalItems:0}}catch(c){var s;return 401===c.response.status&&o.a.logout(),{statusCode:null===(s=c.response)||void 0===s?void 0:s.status}}}}}]);