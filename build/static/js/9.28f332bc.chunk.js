(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[9],{1067:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a(75),n=a(28),i=a(13),r=a(16),c=a.n(r),d=a(25),o=a(137),u=a(66),b=a(306),m=a(50),j=a(91),v=a(11),p=a.n(v),h=a(35),O=a(27),x=a(220),f=a(95),g=a(316),y=a(63),C=a(112),N=a(315),S=a(54),w=a(400),k=a(1);var D=()=>{var e,t;const a=Object(n.b)(),{editEnabled:l}=Object(n.c)((e=>e.worker)),{basicInfo:r}=Object(n.c)((e=>e.worker)),{inputErr:o,requiredErr:u}=Object(n.c)((e=>e.worker)),b=e=>a(Object(g.b)(e)),m=e=>a(Object(g.e)(e)),[j,v]=Object(s.useState)([]),[D,P]=Object(s.useState)([]),[E]=Object(s.useState)(i.a.getHeaders()),[R,I]=Object(s.useState)([]),[L,A]=Object(s.useState)([]),[M,T]=Object(s.useState)([]),F=Object(s.useCallback)((async()=>{const e={};return e.prime=await Object(y.e)("primeSkills",E),e.secondary=await Object(y.e)("secSkills",E),e.professionalRoles=await Object(y.e)("professionalRoles",E),e}),[E]),H=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var s;s=!0,a(Object(g.c)(s));const l=Object(f.a)(t,e.target.value);let n;""!==e.target.value&&(n={...u},delete n[e.target.name],(e=>{a(Object(g.g)(e))})(n)),b({...r,[e.target.name]:e.target.value}),l?(n={...o},delete n[e.target.name],m(n)):m({...o,[e.target.name]:"Invalid format or characters"})},z=Object(s.useCallback)((async()=>{try{return await c.a.get(d.a.serverURL+"/resourcemanager?dropdownFilter=true&role=RECRUITER",{headers:E})}catch(e){console.log(e)}}),[E]);Object(s.useEffect)((()=>{let e=!1;return(async()=>{try{if(!e){const e=await z();200===e.status&&P(e.data)}}catch(a){var t;e||401!==(null===(t=a.response)||void 0===t?void 0:t.status)||i.a.logout()}})(),()=>e=!0}),[z]);const B=Object(s.useCallback)((async()=>{try{return await c.a.get(d.a.serverURL+"/clients?dropdownFilter=true",{headers:E})}catch(e){console.log(e)}}),[E]);Object(s.useEffect)((()=>{let e=!1;return(async()=>{try{if(!e){const e=await B();200===e.status&&v(e.data)}}catch(a){var t;e||401!==(null===(t=a.response)||void 0===t?void 0:t.status)||i.a.logout()}})(),()=>e=!0}),[B]),Object(s.useEffect)((()=>{let e=!1;return(async()=>{try{const t=await F();Object.keys(t).length&&(e||(I(t.prime),A(t.secondary),T(t.professionalRoles.sort(((e,t)=>e.value.localeCompare(t.value))))))}catch(t){e||console.log(t)}})(),()=>e=!0}),[F]);const q=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=e.filter((e=>e.selected)).map((e=>e.value)).join(",");let l=t;"primeSkills"===t&&(l="primarySoftwareSkill"),"secSkills"===t&&(l="secondarySkill"),"professionalRoles"===t&&(l="designation");"basicInfo"===a&&H({target:{name:l,value:s||""}}),e.filter((e=>!e.id&&!e.isDeleted)).forEach((e=>{Object(y.h)(t,e.value,E).then((e=>{"primeSkills"===t&&I([...R,e]),"secSkills"===t&&A([...L,e]),"professionalRoles"===t&&T([...M,e])})).catch((e=>console.log(e)))})),e.filter((e=>e.isDeleted)).forEach((e=>{Object(y.a)(e.id,E).catch((e=>console.log(e)))}));const n=e.filter((e=>!e.isDeleted));"primeSkills"===t&&I(n),"secSkills"===t&&A(n),"professionalRoles"===t&&T(n)},Y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"validateNum";H(e,"payRate"===e.target.name?t:"")};return Object(k.jsxs)(s.Fragment,{children:[Object(k.jsx)("h3",{className:"disabled-form-section-header",children:"Basic Information"}),Object(k.jsx)(h.a,{name:"status",label:"Status",type:"status",id:"status",onChange:e=>H(e,"validateGender"),value:null===r||void 0===r?void 0:r.status,options:[{id:1,value:"ACTIVE",name:"Active"},{id:2,value:"TERMINATED",name:"Terminated"},{id:3,value:"LEAVEWITHOUTPAY",name:"LeaveWithoutPay"},{id:4,value:"RE-HIRE",name:"Re-Hire"}],disabled:!l}),l?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{type:"text",label:"First Name",name:"firstName",value:(null===r||void 0===r?void 0:r.firstName)||"",onChange:e=>H(e,"validateName"),maxLength:"40",required:!0,disabled:!l,errMssg:o.firstName}),Object(k.jsx)(O.a,{type:"text",label:"Last Name",name:"lastName",value:(null===r||void 0===r?void 0:r.lastName)||"",onChange:e=>H(e,"validateName"),maxLength:"40",required:!0,disabled:!l,errMssg:o.lastName})]}):Object(k.jsx)(O.a,{readOnly:!0,value:"".concat(null===r||void 0===r?void 0:r.firstName," ").concat(null===r||void 0===r?void 0:r.lastName),label:"Name"}),Object(k.jsx)(h.a,{name:"gender",label:"Gender",id:"gender",onChange:e=>H(e,"validateGender"),value:null===r||void 0===r?void 0:r.gender,options:[{id:1,value:"Male",name:"Male"},{id:2,value:"Female",name:"Female"},{id:3,value:"Non-Binary",name:"Non-Binary"},{id:4,value:"Trans-Fem",name:"Trans-Fem"},{id:5,value:"Trans-Fem",name:"Trans-Masc"},{id:6,value:"Prefer Not to Say",name:"Prefer Not to Say"}],disabled:!l}),Object(k.jsx)(h.a,{label:"Client",name:"clientId",onChange:e=>{const t=j.filter((t=>+t.id===+e.target.value))[0];b({...r,client:{clientName:t.clientName,id:t.id}})},value:null===r||void 0===r||null===(e=r.client)||void 0===e?void 0:e.id,options:null===j||void 0===j?void 0:j.map((e=>({id:null===e||void 0===e?void 0:e.id,name:null===e||void 0===e?void 0:e.clientName}))),required:!0,disabled:!0}),Object(k.jsx)(C.a,{label:"Title",options:M.map((e=>({id:e.id,value:e.value,label:e.value,selected:(null===r||void 0===r?void 0:r.designation)===e.value}))),handleChange:e=>q(e,"professionalRoles","basicInfo"),creatable:!0,placeholder:"please select",deletable:i.a.hasAdminRole()||i.a.hasBDManagerRole(),disabled:!l}),Object(k.jsx)(O.a,{name:"dateOfBirth",label:"Dob",id:"dateOfBirth",type:"date",max:(new Date).toLocaleDateString("en-ca"),onChange:e=>H(e,"validateDob"),value:!l&&null!==r&&void 0!==r&&r.dateOfBirth?p()(null===r||void 0===r?void 0:r.dateOfBirth).format("MM/DD/YYYY"):null===r||void 0===r?void 0:r.dateOfBirth,disabled:!l}),Object(k.jsx)(x.a,{label:"Phone Num.",phoneNumber:(null===r||void 0===r?void 0:r.phoneNumber)||"",handleChange:e=>{b({...r,phoneNumber:e})},disabled:!l,setError:e=>{if(e)m({...o,phoneNumber:!0});else{let e={...o};delete e.phoneNumber,m(e)}}}),Object(k.jsx)(O.a,{type:"email",label:"Email",name:"email",value:(null===r||void 0===r?void 0:r.email)||"",onChange:e=>H(e,"validateEmail"),required:!0,disabled:!l,errMssg:o.email}),Object(k.jsx)(h.a,{label:"Resource Manager",name:"resourceManagerId",onChange:e=>{const t=D.filter((t=>+t.resourceManagerId===+e.target.value))[0];b({...r,resourceManager:{name:"".concat(null===t||void 0===t?void 0:t.firstName," ").concat(null===t||void 0===t?void 0:t.lastName),resourceManagerId:null===t||void 0===t?void 0:t.resourceManagerId}})},value:null===r||void 0===r||null===(t=r.resourceManager)||void 0===t?void 0:t.resourceManagerId,options:null===D||void 0===D?void 0:D.map((e=>({id:null===e||void 0===e?void 0:e.resourceManagerId,name:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)}))),required:!0,disabled:!l}),Object(k.jsx)(h.a,{name:"payRateType",label:"pPayRate Type",id:"payRateType",onChange:e=>H(e),value:null===r||void 0===r?void 0:r.payRateType,options:[{id:1,value:"crop to crop",name:"crop to crop"},{id:2,value:"w2",name:"w2"}],disabled:!l}),Object(k.jsx)(N.a,{label:"Pay Rate",id:"currency",nameCurrency:"currency",nameRate:"payRate",handleChange:Y,valueCurrency:r.currency,valueRate:Number(r.payRate).toFixed(2),placeholder:"Enter the amount",required:!0,disabled:!l}),Object(k.jsx)(h.a,{label:"Pay Rate Period",name:"period",className:"short",value:r.period,onChange:e=>H(e),required:!0,options:S.e.map((e=>({id:e,value:e,name:e}))),disabled:!l}),Object(k.jsx)(N.a,{label:"Net Pay Rate",id:"currency",nameCurrency:"currency",nameRate:"netPayRate",handleChange:Y,valueCurrency:r.currency,valueRate:Number(r.netPayRate).toFixed(2),placeholder:"Enter the amount",required:!0,disabled:!l}),Object(k.jsx)(h.a,{label:"Net Pay Rate Period",name:"period",className:"short",value:r.period,onChange:e=>H(e),required:!0,options:S.e.map((e=>({id:e,value:e,name:e}))),disabled:!l}),Object(k.jsx)("h3",{className:"disabled-form-section-header",children:"Worker Details"}),Object(k.jsxs)("div",{style:{fontSize:"12px",display:"flex",flexDirection:"column",paddingBottom:"10px"},children:[Object(k.jsx)("label",{style:{fontWeight:"200",fontSize:"12px",textTransform:"uppercase",color:"rgba(0, 0, 0, 0.8)"},children:"Is SubContractor?"}),Object(k.jsx)("div",{style:{fontSize:"12px",paddingLeft:"50px"},children:Object(k.jsx)(w.a,{name:"isSubContractor",label:"Is SubContractor",id:"isSubContractor",value:r.isSubContractor,onChange:e=>{(e=>{const{name:t}=e.target;b({...r,[t]:e.target.checked})})(e)},disabled:!l})})]}),(!0===r.isSubContractor||"true"===r.isSubContractor)&&Object(k.jsx)("div",{style:{fontSize:"12px"},children:Object(k.jsx)(O.a,{type:"text",label:"SubContractor Name",name:"subContractorCompanyName",value:null===r||void 0===r?void 0:r.subContractorCompanyName,onChange:e=>H(e,"validateName"),maxLength:"20",errMssg:o.subContractorCompanyName,disabled:!l})}),Object(k.jsx)(C.a,{label:"Primary Skills",options:R.map((e=>{var t;return{id:e.id,value:e.value,label:e.value,selected:null===r||void 0===r||null===(t=r.primarySoftwareSkill)||void 0===t?void 0:t.includes(e.value)}})),handleChange:e=>q(e,"primeSkills","basicInfo"),isMulti:!0,creatable:!0,deletable:i.a.hasAdminRole()||i.a.hasBDManagerRole(),required:!0,disabled:!l}),Object(k.jsx)(C.a,{label:"Secondary Skills",options:L.map((e=>{var t;return{id:e.id,value:e.value,label:e.value,selected:null===r||void 0===r||null===(t=r.secondarySkill)||void 0===t?void 0:t.includes(e.value)}})),handleChange:e=>q(e,"secSkills","basicInfo"),creatable:!0,isMulti:!0,deletable:i.a.hasAdminRole()||i.a.hasBDManagerRole(),disabled:!l})]})},P=a(308),E=a.n(P),R=a(817),I=a(312),L=a(806),A=a(818);var M=e=>{let{id:t,...a}=e;const[l,n]=Object(s.useState)([]),[r]=Object(s.useState)(i.a.getHeaders()),[o,u]=Object(s.useState)(0),[b,m]=Object(s.useState)(1),j=d.a.ITEMS_PER_PAGE,v=Object(s.useCallback)((async()=>{try{const e=await c.a.get("".concat(d.a.serverURL,"/workerhistory/workerPage?id=").concat(t,"&pageNo=").concat(b-1,"&pageSize=5"),{headers:r});if(200===e.status){const t=e.data.map((e=>{var t,a;return{start:null===e||void 0===e?void 0:e.contractStartDate,end:null===e||void 0===e?void 0:e.contractEndDate,client:null===e||void 0===e?void 0:e.client.clientName,location:null===e||void 0===e||null===(t=e.client)||void 0===t||null===(a=t.address)||void 0===a?void 0:a.city,laptopStatus:null===e||void 0===e?void 0:e.laptopProvided,laptopProvider:null===e||void 0===e?void 0:e.laptopProvidedBy,laptopReturned:null===e||void 0===e?void 0:e.laptopReturned,laptopReturnedDate:null===e||void 0===e?void 0:e.laptopReturnedDate,firstName:null===e||void 0===e?void 0:e.firstName,lastName:null===e||void 0===e?void 0:e.lastName,email:null===e||void 0===e?void 0:e.email}}));n(t),u(t.length)}}catch(e){console.log(e)}}),[r,b,j]);Object(s.useEffect)((()=>{let e=!1;return(async()=>{e||await v()})(),()=>e=!0}),[v]);const p=[{title:"Client",key:"client",render:(e,t)=>Object(k.jsx)(L.a,{name:e,location:t.location})},{title:"Start Date",key:"start"},{title:"End Date",key:"end"},{title:"Laptop Status",key:"laptopStatus"},{title:"Laptop Provider",key:"laptopProvider"},{title:"Laptop Return",key:"laptopReturnedDate"}];return Object(k.jsxs)("div",{style:{width:"100%"},children:[Object(k.jsx)("h3",{className:"disabled-form-section-header",children:"Project History"}),l.length>0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(R.a,{data:l,columns:p}),Object(k.jsx)(I.a,{total:o,itemsPerPage:10,currentPage:b,onPageChange:e=>{m(e)}})]}):Object(k.jsx)(A.a,{})]})},T=a(86),F=a(22),H=a(427);a(433);var z=function(e){const t=t=>{t.preventDefault();let a=JSON.parse(sessionStorage.getItem("headers"));fetch(d.a.serverURL+"/worker/"+e.id+"/resume",{headers:a}).then((e=>{if(200===e.status){const t=e.headers.get("Content-Disposition").split("filename=")[1];console.log("resume",e),e.blob().then((e=>{let a=window.URL.createObjectURL(e),s=document.createElement("a");s.href=a,s.download=t,s.click(),console.log(t)}))}else 401===e.status&&i.a.logout()})).catch((e=>{console.log("Error:",e)}))};return Object(k.jsxs)("span",{children:["button"===e.displayType&&Object(k.jsx)(F.a,{type:"button",name:"download-resume-btn",className:"icon-btn large",handleClick:t,children:Object(k.jsx)(H.a,{})}),"link"===e.displayType&&Object(k.jsxs)("div",{className:"download-resume-link-container ".concat(e.className),children:[!e.noLabel&&Object(k.jsxs)("label",{className:"resume-label",children:[e.required&&!e.disabled&&Object(k.jsx)("span",{className:"required",children:"*"})," ",e.label?e.label:"Document"]}),e.resume?Object(k.jsxs)(F.a,{type:"button",name:"download-resume-btn",className:"icon-btn small",handleClick:t,children:[Object(k.jsx)(H.a,{})," ",e.resume.resumeName]}):Object(k.jsx)("span",{className:"no-file-text",children:"[no file uploaded]"})]})]})};var B=e=>{var t,a;const i=Object(n.b)(),{editEnabled:r}=Object(n.c)((e=>e.worker)),{inputErr:c,requiredErr:d}=Object(n.c)((e=>e.worker)),[o,u]=Object(s.useState)(null),b=e=>i(Object(g.e)(e)),{basicInfo:m,worker:j}=Object(n.c)((e=>e.worker)),v=Object(l.useParams)(),{resume:x,enableReplaceResume:y,replaceResumeEnabled:C,uploadNewResume:N}=e;Object(s.useEffect)((()=>{const e=E()("1d"),t=new Date(+new Date(null===m||void 0===m?void 0:m.contractStartDate)+e);u(p()(t).format("YYYY-MM-DD"))}),[null===m||void 0===m?void 0:m.contractStartDate]);const S=Object(s.useCallback)((e=>i(Object(g.b)(e))),[i]),D=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var a;a=!0,i(Object(g.c)(a));const s=Object(f.a)(t,e.target.value);let l;""!==e.target.value&&(l={...d},delete l[e.target.name],(e=>{i(Object(g.g)(e))})(l)),S({...m,[e.target.name]:e.target.value}),s?(l={...c},delete l[e.target.name],b(l)):b({...c,[e.target.name]:"Invalid format or characters"})},P=e=>{const{name:t}=e.target;S({...m,[t]:e.target.checked})};return Object(k.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(k.jsx)("h3",{className:"disabled-form-section-header",children:"Current Project Details"}),Object(k.jsx)(O.a,{name:"contractStartDate",label:"Project Start Date",id:"contractStartDate",type:"date",max:"2999-12-31",disabled:!r,onChange:e=>D(e),value:null===m||void 0===m?void 0:m.contractStartDate}),Object(k.jsx)(O.a,{name:"contractEndDate",label:"Project End Date",id:"contractEndDate",type:"date",min:o,max:"2999-12-31",onChange:e=>D(e),value:null===m||void 0===m?void 0:m.contractEndDate,disabled:!r}),Object(k.jsx)("h3",{className:"disabled-form-section-header",children:"Asset Details"}),Object(k.jsxs)("div",{style:{fontSize:"12px",display:"flex",flexDirection:"column",paddingRight:"20px"},children:[Object(k.jsx)("label",{style:{fontWeight:"200",fontSize:"12px",textTransform:"uppercase",color:"rgba(0, 0, 0, 0.8)"},children:"Is Laptop Provided?"}),Object(k.jsx)("div",{style:{fontSize:"12px",paddingLeft:"50px"},children:Object(k.jsx)(w.a,{name:"isLaptopProvided",label:"Is Laptop Provided",id:"isLaptopProvided",value:m.isLaptopProvided,onChange:e=>{P(e)},disabled:!r})})]}),(!0===m.isLaptopProvided||"true"===m.isLaptopProvided)&&Object(k.jsxs)("div",{style:{fontSize:"12px",display:"flex"},children:[Object(k.jsx)(h.a,{name:"laptopProvided",label:"Laptop Provided",id:"laptopProvided",onChange:e=>D(e,"validateGender"),value:null===m||void 0===m?void 0:m.laptopProvided,options:[{id:"Initiated",value:"Initiated",name:"Initiated"},{id:"In process",value:"In process",name:"In process"},{id:"Completed",value:"Completed",name:"Completed"}],disabled:!r}),Object(k.jsx)(h.a,{name:"laptopProvidedBy",label:"Laptop Provided By",id:"laptopProvidedBy",onChange:e=>D(e),placeholder:"If Yes, Please Select...",value:null===m||void 0===m?void 0:m.laptopProvidedBy,options:[{id:1,value:"Drishticon",name:"Drishticon"},{id:2,value:"Client",name:"Client"},{id:3,value:"NA",name:"NA"}],disabled:!r}),Object(k.jsxs)("div",{style:{fontSize:"12px",display:"flex",flexDirection:"column",paddingRight:"20px"},children:[Object(k.jsx)("label",{style:{fontWeight:"200",fontSize:"12px",textTransform:"uppercase",color:"rgba(0, 0, 0, 0.8)"},children:"laptop Returned?"}),Object(k.jsx)("div",{style:{fontSize:"12px",paddingLeft:"50px"},children:Object(k.jsx)(w.a,{name:"laptopReturned",label:"laptop Returned",id:"laptopReturned",value:m.laptopReturned,onChange:e=>{P(e)},disabled:!r})})]}),(!0===m.laptopReturned||"true"===m.laptopReturned)&&Object(k.jsx)("div",{style:{fontSize:"12px"},children:Object(k.jsx)(O.a,{name:"laptopReturnedDate",label:"Laptop Returned Date",type:"Date",id:"laptopReturnedDate",onChange:e=>D(e),value:null===m||void 0===m?void 0:m.laptopReturnedDate,disabled:!r})})]}),Object(k.jsxs)("div",{style:{fontSize:"12px",display:"flex",flexDirection:"column",paddingRight:"20px"},children:[Object(k.jsx)("label",{style:{fontWeight:"200",fontSize:"12px",textTransform:"uppercase",color:"rgba(0, 0, 0, 0.8)"},children:"SignedEquipment Form?"}),Object(k.jsx)("div",{style:{fontSize:"12px",paddingLeft:"50px"},children:Object(k.jsx)(w.a,{name:"signedEquipmentForm",label:"signedEquipment Form",id:"signedEquipmentForm",value:m.signedEquipmentForm,onChange:e=>{P(e)},disabled:!r})})]}),(!0===m.signedEquipmentForm||"true"===m.signedEquipmentForm)&&Object(k.jsx)("div",{style:{fontSize:"12px"},children:r?Object(k.jsxs)("div",{children:[Object(k.jsx)(O.a,{label:"Resume",required:!0,type:"file",name:"resume",onChange:N,disabled:!r}),r&&x?Object(k.jsx)(F.a,{type:"button",className:"x-small",handleClick:y,children:C?"Cancel":"Replace"}):r&&!x?Object(k.jsx)(F.a,{type:"button",className:"x-small",handleClick:y}):null]}):Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{style:{fontWeight:"200",fontSize:"12px",textTransform:"uppercase",color:"rgba(0, 0, 0, 0.8)"},children:"Document"}),Object(k.jsxs)("div",{style:{display:"flex",paddingTop:"4px",fontSize:"13px"},children:[Object(k.jsx)(z,{id:null===m||void 0===m?void 0:m.id,resume:null===m||void 0===m||null===(t=m.resume)||void 0===t?void 0:t.resumeName,displayType:"link",required:!0,disabled:!r,noLabel:!0,className:"small"}),null===m||void 0===m||null===(a=m.resume)||void 0===a?void 0:a.resumeName]})]})}),Object(k.jsx)("h3",{className:"disabled-form-section-header",children:" Additional Information"}),Object(k.jsx)(T.a,{type:"text",label:"Additional Information for worker",name:"comments",value:(null===m||void 0===m?void 0:m.comments)||"",onChange:e=>D(e),maxLength:"3000",charCount:"".concat(m.comments?3e3-m.comments.length:3e3," of 3000"),disabled:!r}),Object(k.jsx)(M,{id:(null===v||void 0===v?void 0:v.workerId)||(null===j||void 0===j?void 0:j.id)})]})},q=a(32),Y=a(96),V=a(810),U=a(219),W=a(218),X=a(309),G=a(307),K=a(310),Z=a(420),J=a(781),_=a(685),Q=a(783),$=a(684),ee=a(814),te=a(891);a(979);const ae=e=>{let{visa:t,onClick:a}=e;const n=Object(l.useHistory)(),i=Object(s.useCallback)((e=>{n.push("/visatracking/".concat(e))}),[n]);return Object(k.jsxs)("div",{className:"visa-card",onClick:()=>i(t.id),children:[Object(k.jsx)(O.a,{readOnly:!0,label:"Country of Birth",value:null===t||void 0===t?void 0:t.countryOfBirth}),Object(k.jsx)(O.a,{readOnly:!0,label:"Country of Residence",value:null===t||void 0===t?void 0:t.visaCountryOfResidence}),Object(k.jsx)(O.a,{readOnly:!0,label:"Country of Citizenship",value:null===t||void 0===t?void 0:t.visaCountry}),Object(k.jsx)(O.a,{readOnly:!0,label:"Visa Type",value:null===t||void 0===t?void 0:t.visaType}),Object(k.jsx)(O.a,{readOnly:!0,label:"Visa Status",value:null===t||void 0===t?void 0:t.visaStatus}),Object(k.jsx)(O.a,{readOnly:!0,label:"Applied on",value:null!==t&&void 0!==t&&t.visaAppliedDate?p()(null===t||void 0===t?void 0:t.visaAppliedDate).format("MM/DD/YYYY"):null===t||void 0===t?void 0:t.visaAppliedDate}),Object(k.jsx)(O.a,{readOnly:!0,label:"Start Date",value:null!==t&&void 0!==t&&t.visaStartDate?p()(null===t||void 0===t?void 0:t.visaStartDate).format("MM/DD/YYYY"):null===t||void 0===t?void 0:t.visaStartDate}),Object(k.jsx)(O.a,{readOnly:!0,label:"Expires",value:null!==t&&void 0!==t&&t.visaExpiryDate?p()(null===t||void 0===t?void 0:t.visaExpiryDate).format("MM/DD/YYYY"):null===t||void 0===t?void 0:t.visaExpiryDate})]})};var se=a(762),le=a(857),ne=a(138),ie=a(126),re=a(152);var ce=e=>{const t={worker:"",workerId:"",visaStatus:"",visaType:"",visaStartDate:"",visaExpiryDate:"",visaAppliedDate:"",visaCountryCode:"",visaCountry:"",countryOfBirth:"",visaCountryOfResidence:"",entryDateOfF1:"",workerOptions:[],workAuthStatusDict:[],passportNumber:"",visaNumber:"",isDeleted:!1},[a,l]=Object(s.useState)(t),[r,o]=Object(s.useState)([]),[b,m]=Object(s.useState)(!1),[j,v]=Object(s.useState)([]),[x,g]=Object(s.useState)(""),[N]=Object(s.useState)(i.a.getHeaders()),[S,w]=Object(s.useState)({}),[D,P]=Object(s.useState)(null),[R,I]=Object(s.useState)([]),[L,A]=Object(s.useState)(!0),[M,T]=Object(s.useState)(!1),F=Object(s.useRef)(null),[H,z]=Object(s.useState)(Date.now()),{basicInfo:B}=Object(n.c)((e=>e.worker)),q=Object(s.useCallback)((async()=>{const e={};return e.workAuth=await Object(y.e)("workAuthStatus",N),e}),[N]);Object(s.useEffect)((()=>{let e=!1;return(async()=>{try{const t=await q();Object.keys(t).length&&(e||I(t.workAuth))}catch(t){e||console.log(t)}})(),()=>e=!0}),[q]);Object(s.useEffect)((()=>{v(ne.c())}),[]),Object(s.useEffect)((()=>{const e=E()("1d"),t=new Date(+new Date(a.visaStartDate)+e);P(p()(t).format("YYYY-MM-DD"))}),[a.visaStartDate]);const Y=function(e){var t;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===(t=e.preventDefault)||void 0===t||t.call(e);const n=e.target.max?+e.target.max:null,i=Object(f.a)(s,e.target.value,n),r=""===e.target.value;if(l({...a,[e.target.name]:e.target.value}),"visaType"===e.target.name?(W(e),"Citizen"!==e.target.value&&"Not Applicable"!==e.target.value||(m(!0),W(e),"Citizen"!==e.target.value&&"Not Applicable"!==e.target.value||setTimeout((function(){document.getElementById("visaStatus").value="NOT APPLICABLE"}),300))):m(!1),"opt"===e.target.value||"cpt"===e.target.value||"stem opt"===e.target.value?(m(!0),W(e),"opt"!==e.target.value&&"cpt"!==e.target.value&&"stem opt"!==e.target.value||setTimeout((function(){document.getElementById("entryDateOfF1")}),300)):m(!1),i){if(i||r){let t={...S};delete t[e.target.name],w({inputErr:t})}}else w({...S,[e.target.name]:"Invalid format or characters"})},V=e=>{const t=e.target.selectedOptions[0].index?j[e.target.selectedOptions[0].index-1]:{};l({...a,[e.target.name]:t.name,countryCode:t.code})},U=Object(s.useCallback)((()=>{c.a.get("".concat(d.a.serverURL,"/worker?dropdownFilter=true"),{headers:N}).then((e=>{e.data&&o(e.data)})).catch((e=>console.log(e)))}),[N]);Object(s.useEffect)((()=>{U()}),[U]);const W=e=>{const t=e.target.value,a=e.target.value,s=e.target.value;g(t),g(a),g(s)},X=()=>{l(t),z(Date.now()),e.setOpen(!1)};return Object(k.jsxs)(ie.a,{header:{text:"Add New Visa"},open:e.open,close:()=>{X(),e.setOpen(!1)},children:[Object(k.jsx)(re.a,{onActive:()=>{A(!0)},onIdle:()=>{A(!1)},onLogout:()=>{T(!0)}}),Object(k.jsxs)(u.a,{formEnabled:!0,onSubmit:s=>{s.preventDefault();var n=document.getElementById("visaStatus").value;const r="Citizen"===a.visaType||"Not Applicable"===a.visaType,o=r?{visaStartDate:"",visaExpiryDate:"",visaAppliedDate:"",usEntryDate:""}:{visaStartDate:a.visaStartDate,visaExpiryDate:a.visaExpiryDate,visaAppliedDate:a.visaAppliedDate,usEntryDate:a.usEntryDate},u=r?"NOT APPLICABLE":""===a.visaStatus?n:a.visaStatus,b={worker:""===B.id?null:{id:B.id},visaCountry:a.visaCountry,visaCountryOfResidence:a.visaCountryOfResidence,visaType:a.visaType,visaStatus:u,...o,countryOfBirth:a.countryOfBirth,passportNumber:a.passportNumber,visaNumber:a.visaNumber,isDeleted:!1};c.a.post("".concat(d.a.serverURL,"/visatracking"),b,{headers:N}).then((s=>{if(201===s.status&&(l(t),l((e=>({...e,visaType:""}))),Z.b.success("Visa record created successfully"),e.setOpen(!1),e.refresh(),null!=s.data&&a.file)){let e=s.data.id,t=a.file,l=new FormData;l.append("file",t),c.a.post("".concat(d.a.serverURL,"/visatracking/").concat(e,"/resume"),l,{headers:N}).then((e=>{console.log(e.status)})).catch((e=>{console.log(e),e.response&&401===e.response.status&&i.a.logout()}))}X()})).catch((e=>{console.error(e)}))},cancel:X,children:[Object(k.jsx)(h.a,{label:"Worker",name:"workerId","data-testid":"worker-options",onChange:e=>{e.preventDefault(),l({...a,worker:e.target.value})},value:B.id,options:r.map((e=>({id:e.id,name:"".concat(e.firstName," ").concat(e.lastName)}))),required:!0}),Object(k.jsx)(h.a,{label:"Country Of Birth",name:"countryOfBirth",value:a.countryOfBirth,onChange:V,placeholder:"Country of Birth..",options:j,required:!0}),Object(k.jsx)(h.a,{label:"Country Of Residence",name:"visaCountryOfResidence",id:"visaCountryOfResidence",onChange:V,value:a.visaCountryOfResidence,placeholder:"Country Of Residence...",options:j,required:!0}),Object(k.jsx)(h.a,{label:"Country Of Citizenship",name:"visaCountry",value:a.visaCountry,onChange:V,placeholder:"Country...",options:j,required:!0}),Object(k.jsx)(C.a,{label:"Type",options:R.map((e=>({id:e.id,value:e.value,label:e.value,selected:a.visaType===e.value}))),handleChange:e=>function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const s=e.filter((e=>e.selected)).map((e=>e.value)).join(",");let l=t;"workAuthStatus"===t&&(l="visaType"),"basicInfo"===a&&Y({target:{name:l,value:s||""}}),e.filter((e=>!e.id&&!e.isDeleted)).forEach((e=>{Object(y.h)(t,e.value,N).then((e=>{"workAuthStatus"===t&&I([...R,e])})).catch((e=>console.log(e)))})),e.filter((e=>e.isDeleted)).forEach((e=>{Object(y.a)(e.id,N).catch((e=>console.log(e)))}));const n=e.filter((e=>!e.isDeleted));"workAuthStatus"===t&&I(n)}(e,"workAuthStatus","basicInfo"),creatable:!0,placeholder:"please select",required:!0,deletable:i.a.hasAdminRole()||i.a.hasBDManagerRole()}),("opt"===x||"cpt"===x||"stem opt"===x)&&Object(k.jsx)(O.a,{name:"entryDateOfF1",label:" EntryDateOfF1",type:"date",id:"entryDateOfF1",max:"2999-12-31",onChange:e=>Y(e),value:a.entryDateOfF1,errMssg:S.entryDateOfF1}),("opt"===x||"cpt"===x||"stem opt"===x)&&Object(k.jsx)(O.a,{name:"usEntryDate",label:" US ENTRY DATE",type:"date",id:"usEntryDate",max:"2999-12-31",onChange:e=>Y(e),value:a.usEntryDate,errMssg:S.usEntryDate}),Object(k.jsx)(h.a,{name:"visaStatus",label:" Status",id:"visaStatus",onChange:e=>{Y(e),W(e)},value:a.visaStatus,options:[{id:1,value:"ACTIVE",name:"Active",disabled:b},{id:2,value:"APPLIED",name:"Applied",disabled:b},{id:3,value:"EXPIRED",name:"Expired",disabled:b},{id:4,value:"NOT APPLICABLE",name:"Not Applicable",disabled:!b}]}),("ACTIVE"===x||"EXPIRED"===x)&&Object(k.jsx)("div",{className:"visatrackingcol",id:"visaStartDateDiv",children:Object(k.jsx)(O.a,{name:"visaStartDate",label:" Start Date",type:"date",id:"visaStartDate",max:"2999-12-31",onChange:e=>Y(e),value:a.visaStartDate,errMssg:S.visaStartDate})}),("ACTIVE"===x||"EXPIRED"===x)&&Object(k.jsx)("div",{className:"visatrackingcol",children:Object(k.jsx)(O.a,{name:"visaExpiryDate",label:" Expiry Date",type:"date",min:D,id:"visaExpiryDate",max:"2999-12-31",onChange:e=>Y(e),value:a.visaExpiryDate,errMssg:S.visaExpiryDate})}),"APPLIED"===x&&Object(k.jsx)("div",{className:"visatrackingcol",children:Object(k.jsx)(O.a,{name:"visaAppliedDate",label:" Applied Date",type:"date",id:"visaAppliedDate",onChange:e=>Y(e),value:a.visaAppliedDate})}),Object(k.jsx)(O.a,{name:"passportNumber",label:"Passport NUmber",type:"text",id:"passportNumber",onChange:e=>Y(e),value:a.passportNumber,required:!0}),Object(k.jsx)(O.a,{name:"visaNumber",label:"Visa NUmber",type:"text",id:"visaNumber",onChange:e=>Y(e),value:a.visaNumber,required:!0}),Object(k.jsx)("div",{style:{fontSize:"12px",display:"flex"},children:Object(k.jsx)(O.a,{type:"file",label:"Attach Document","data-testid":"file",name:"file",ref:F,onChange:e=>{e.target.files&&e.target.files.length>0?e.target.files[0].size>1048576?(l((e=>({...e,inputErr:{...e.inputErr,file:"File is too big. Please select a file with size < 1MB"},file:null}))),F.current.value=null):l((t=>({...t,file:e.target.files[0],inputErr:{...t.inputErr,file:void 0}}))):l((e=>({...e,file:null})))},errMssg:S.file})})]},H)]},X?"reset":"no-reset")};var de=e=>{let{id:t,...a}=e;const[l]=Object(s.useState)(i.a.getHeaders()),[r,o]=Object(s.useState)([]),[u,b]=Object(s.useState)(1),[m,j]=Object(s.useState)(!1),[v,p]=Object(s.useState)(!1),[h,O]=Object(s.useState)([]),[x,f]=Object(s.useState)(0),{basicInfo:g}=Object(n.c)((e=>e.worker));Object(s.useEffect)((()=>{i.a.isAdminOrOperations()&&j(!0)}),[]);const y=Object(s.useCallback)((async()=>{try{const e=await c.a.get("".concat(d.a.serverURL,"/visatracking/worker/").concat(t),{headers:l});e.data&&o(e.data)}catch(e){console.log(e)}}),[l,t]);Object(s.useEffect)((()=>y()),[y]);const C=Object(s.useCallback)((async()=>{try{const e=await c.a.get("".concat(d.a.serverURL,"/visahistory/workerPage?workerId=").concat(t,"&pageNo=").concat(u-1,"&pageSize=5&orderBy=visaType&orderMode=desc"),{headers:l});200===e.status&&(O(e.data),f(e.headers["total-elements"]))}catch(e){console.log(e)}}),[l,t,u]);Object(s.useEffect)((()=>{C()}),[C]);const N=Object(s.useMemo)((()=>{var e;return!("EXPIRED"!==(null===(e=r[0])||void 0===e?void 0:e.visaStatus)&&r.length||!m)}),[r,m]);return Object(k.jsxs)(k.Fragment,{children:[N&&Object(k.jsx)("div",{style:{marginBottom:"16px",width:"100%",display:"flex",justifyContent:"flex-end"},children:Object(k.jsxs)(F.a,{type:"button",className:"btn main outlined",handleClick:()=>p(!0),children:[Object(k.jsx)(se.a,{className:"icon"}),"Add New Visa"]})}),Object(k.jsx)("h3",{className:"disabled-form-section-header",children:"Current Visa Details "}),r.length?Object(k.jsx)(ae,{visa:r[0]},r[0].id):Object(k.jsx)(A.a,{}),Object(k.jsx)("h3",{className:"disabled-form-section-header",style:{marginTop:"16px"},children:"Visa History"}),h.length?Object(k.jsx)(le.a,{history:h,totalItems:x,setCurrentPage:b,currentPage:u}):Object(k.jsx)(A.a,{}),Object(k.jsx)(ce,{open:v,setOpen:p,refresh:y})]})};a(158),a(980);const oe=e=>{var t,a,n,i,r,c,d;let{rate:o,onClick:u}=e;const b=Object(l.useHistory)(),m=Object(s.useCallback)((e=>{b.push("/ratecard/".concat(e))}),[b]);return Object(k.jsxs)("div",{className:"rate-card",onClick:()=>m(o.id),children:[Object(k.jsxs)("div",{className:"rate-card-basic",children:[Object(k.jsx)("h4",{className:"ratecardtitle",children:"Basic Information"}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Client:"}),null===o||void 0===o||null===(t=o.client)||void 0===t?void 0:t.clientName]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Contract Start Date:"}),null===o||void 0===o?void 0:o.contractStartDate]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Contract End Date:"}),null===o||void 0===o?void 0:o.contractEndDate]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Worker Status:"}),null===o||void 0===o?void 0:o.workerStatus]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"EmployeeSubCOntractor1099: "}),null===o||void 0===o?void 0:o.empSubContractor1099]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Pass Thur:"}),null===o||void 0===o?void 0:o.source]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Sub Contractor:"}),null===o||void 0===o?void 0:o.subContractor]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"VMS Provider:"}),null===o||void 0===o?void 0:o.customer]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Work Base Calculation:"}),null===o||void 0===o?void 0:o.workBaseCalculation]})]})]})]}),Object(k.jsxs)("div",{className:"rate-card-basic",children:[Object(k.jsx)("h4",{className:"ratecardtitle",children:"Bill Details"}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Bill Rate Per Hr :"}),null===o||void 0===o?void 0:o.billRatePerHr]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:" VMS Fees %:"}),null===o||void 0===o?void 0:o.vmsPercentage]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:" VMS Fees:"}),null===o||void 0===o?void 0:o.vmsFees]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"VMS Bill Rate:"}),null===o||void 0===o?void 0:o.vmsbillRate]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Cost To Company Per Hour:"}),null===o||void 0===o?void 0:o.costToCompanyPerHour]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Gross Margin:"}),null===o||void 0===o?void 0:o.grossMargin]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Admin Fees:"}),null===o||void 0===o||null===(a=o.adminFeeId)||void 0===a?void 0:a.paramLevel,"   ",null===o||void 0===o||null===(n=o.adminFeeId)||void 0===n?void 0:n.paramValue]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Net Margin:"}),null===o||void 0===o?void 0:o.netMargin]})]})]})]}),Object(k.jsxs)("div",{className:"rate-card-basic",children:[Object(k.jsx)("h4",{className:"ratecardtitle",children:"Commission Details"}),Object(k.jsx)("div",{className:"disabled-form-section-content wide",children:Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Seller:"}),null===o||void 0===o?void 0:o.seller]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:" Seller Commission Rate:"}),null===o||void 0===o?void 0:o.sellerCommissionRate]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Recruiter:"}),null===o||void 0===o?void 0:o.recruiter]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Recruiter Commission Rate:"}),null===o||void 0===o?void 0:o.recruiterCommissionRate]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Sourcer:"}),null===o||void 0===o?void 0:o.sourcer]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Sourcer Commission Rate:"}),null===o||void 0===o?void 0:o.sourcerCommissionRate]})]})})]}),Object(k.jsxs)("div",{className:"rate-card-basic",children:[Object(k.jsx)("h4",{className:"ratecardtitle",children:"Leave Details"}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Sick Leave Hrs:"}),null===o||void 0===o?void 0:o.slHours]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:" Sick Leave Cost:"}),null===o||void 0===o?void 0:o.slCost]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:" Sick Leave Cost Per Hr:"}),null===o||void 0===o?void 0:o.slCostPerHr]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:" Max Sick Hr Pay Per Annum:"}),null===o||void 0===o?void 0:o.maxSickHrPayPerAnnum]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:" Total Cost Sick Leave Per Annum:"}),null===o||void 0===o?void 0:o.totCostSickLeavePerAnnum]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Hr Cost Sick Leave Per Hr:"}),null===o||void 0===o?void 0:o.hrCostSickLeavePerHr]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Sick Fees Type:"}),null===o||void 0===o||null===(i=o.sickFeeId)||void 0===i?void 0:i.paramLevel,"   ",null===o||void 0===o||null===(r=o.sickFeeId)||void 0===r?void 0:r.paramValue]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Sick Leave Eligible:"}),null===o||void 0===o?void 0:o.sickLeaveEligible]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Sick Leave Policy:"}),null===o||void 0===o?void 0:o.slPolicy]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"PTO Fees Type:"}),null===o||void 0===o||null===(c=o.ptoFeeId)||void 0===c?void 0:c.paramLevel,"   ",null===o||void 0===o||null===(d=o.ptoFeeId)||void 0===d?void 0:d.paramValue]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"PTO Eligible:"}),null===o||void 0===o?void 0:o.ptoEligible]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Max PTO Hr Pay Per Annum:"}),null===o||void 0===o?void 0:o.maxPTOHrPayPerAnnum]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Total Cost PTO Leave Per Annum:"}),null===o||void 0===o?void 0:o.totCostPTOLeavePerAnnum]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Hr Cost PTO Leave Per Annum:"}),null===o||void 0===o?void 0:o.hrCostPTOLeavePerHr]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Total Cost After PTO:"}),null===o||void 0===o?void 0:o.totalCostAfterPTO]})]}),Object(k.jsxs)("div",{className:"disabled-form-section-content wide",children:[Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Effective Hr Margin:"}),null===o||void 0===o?void 0:o.effectiveHrMargin]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Cost Rate Pay Per Hr:"}),null===o||void 0===o?void 0:o.costRatePayPerHr]}),Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Covid Leave Eligible:"}),null===o||void 0===o?void 0:o.covidLeaveEligible]})]})]})]}),Object(k.jsxs)("div",{className:"rate-card-basic",children:[Object(k.jsx)("h4",{className:"ratecardtitle",children:"Comments"}),Object(k.jsx)("div",{className:"disabled-form-section-content wide",children:Object(k.jsxs)("span",{className:"disabled-form-text wide",children:[Object(k.jsx)("span",{className:"disabled-form-bold-text",children:"Comments:"}),null===o||void 0===o?void 0:o.comments]})})]})]})};var ue=e=>{let{id:t,...a}=e;const[r]=Object(s.useState)(i.a.getHeaders()),[o,u]=Object(s.useState)([]),[b]=Object(s.useState)(1),[m,v]=Object(s.useState)(!1),[p,h]=Object(s.useState)(!1),[O,x]=Object(s.useState)(!1),f=Object(l.useHistory)(),g=Object(n.b)(),[y,C]=Object(s.useState)(!1),N=Object(s.useMemo)((()=>i.a.getUserInfo()),[]),[S,w]=Object(s.useState)(N.roles[0]);Object(s.useEffect)((()=>{i.a.hasAdminRole()&&C(!0)}),[]);const D=Object(s.useCallback)((()=>{g(Object(j.b)(!1)),i.a.logout()}),[g]);Object(s.useEffect)((()=>{i.a.hasHRRole()&&h(!0),i.a.hasBDManagerRole()&&x(!0),i.a.hasRecruiterRole()&&v(!0)}),[]);const P=Object(s.useCallback)((async()=>{try{const e=await c.a.put("".concat(d.a.serverURL,"/ratecard?dropdownFilter=true&pageNo=").concat(b-1,"&pageSize=",4),{workerId:"".concat(t)},{headers:r});e.data&&u(e.data)}catch(e){console.log(e),e.response&&401===e.response.status&&D()}}),[r,b,t,D]);Object(s.useEffect)((()=>P()),[P,b]);return Object(k.jsx)(s.Fragment,{children:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"disabled-form-section small",children:Object(k.jsxs)("div",{className:"disabled-form-section",children:[Object(k.jsx)("h4",{className:"disabled-form-section-header",children:"Rate Card Details"}),Object(k.jsxs)("div",{style:{marginBottom:"16px",width:"100%",display:"flex",direction:"row",marginLeft:"400px"},children:[o.length<1&&Object(k.jsx)(A.a,{}),o.length<1&&Object(k.jsx)("div",{style:{marginBottom:"16px",width:"100%",display:"flex",direction:"row",marginLeft:"400px"},children:!m&&!O&&!p&&(y||S.managerPermission||S.candidatesPermission||S.clientPermission||S.interviewsPermission||S.jobOpeningsPermission||S.onBoardingsPermission||S.settingsPermission||S.suppliersPermission?Object(k.jsxs)(F.a,{style:{marginLeft:"-100px"},type:"button",className:"btn main margin-left",handleClick:()=>{f.push("/addratecard")},children:[Object(k.jsx)(se.a,{className:"icon"}),"Add RateCard"]}):"")})]}),o.map((e=>Object(k.jsx)(oe,{rate:e},e.id)))]})})})})};var be=()=>{var e,t,a,l,i,r,c,d,o,u,b,m,j;const v=Object(n.b)(),[p,x]=Object(s.useState)([]),{editEnabled:y}=Object(n.c)((e=>e.worker)),{basicInfo:C}=Object(n.c)((e=>e.worker)),{inputErr:N}=Object(n.c)((e=>e.worker)),S=e=>v(Object(g.b)(e)),w=e=>v(Object(g.c)(e)),D=e=>v(Object(g.e)(e)),[P,E]=Object(s.useState)([]),[R,I]=Object(s.useState)([]),[L,A]=Object(s.useState)([]);Object(s.useEffect)((()=>{I(ne.c()),A(ne.c())}),[]),Object(s.useEffect)((()=>{var e,t;null!==C&&void 0!==C&&null!==(e=C.address)&&void 0!==e&&e.countryCode&&x(ne.d(C.address.countryCode)),null!==C&&void 0!==C&&null!==(t=C.permanentAddress)&&void 0!==t&&t.permanentCountryCode&&E(ne.d(C.permanentAddress.permanentCountryCode))}),[C]);const M=e=>{w(!0),S({...C,permanentAddress:{...C.permanentAddress,...e}})},T=e=>{w(!0),S({...C,address:{...C.address,...e}})},F=e=>{T({[e.target.name]:e.target.value})},H=e=>{M({[e.target.name]:e.target.value})};return Object(k.jsxs)(s.Fragment,{children:[Object(k.jsx)("h3",{className:"disabled-form-section-header",children:" Current Address"}),Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",marginRight:"19px"},children:[Object(k.jsx)(O.a,{type:"text",label:"Street 1",name:"addressLine1",value:null===C||void 0===C||null===(e=C.address)||void 0===e?void 0:e.addressLine1,onChange:F,maxLength:"200",required:!0,disabled:!y}),Object(k.jsx)(O.a,{type:"text",label:"Street 2",name:"addressLine2",value:null===C||void 0===C||null===(t=C.address)||void 0===t?void 0:t.addressLine2,onChange:F,maxLength:"200",required:!0,disabled:!y}),Object(k.jsx)(O.a,{type:"text",label:"City",name:"city",value:(null===C||void 0===C||null===(a=C.address)||void 0===a?void 0:a.city)||"",placeholder:"Select state for menu or enter city",onChange:F,maxLength:"40",autoComplete:"off",disabled:!y,required:!0,errMssg:N.city}),Object(k.jsx)(h.a,{label:"Country",name:"country",value:null===C||void 0===C||null===(l=C.address)||void 0===l?void 0:l.country,onChange:e=>{const t=e.target.selectedOptions[0].index,a=t?R[e.target.selectedOptions[0].index-1]:{};T({country:a.name,countryCode:a.code,state:"",stateCode:""}),x(t?ne.d(a.code):[])},options:R,disabled:!y,required:!0}),Object(k.jsx)(h.a,{label:"State/Province",name:"state",value:(null===C||void 0===C||null===(i=C.address)||void 0===i?void 0:i.state)||"",onChange:e=>{const t=e.target.selectedOptions[0].index?p[e.target.selectedOptions[0].index-1]:{};T({[e.target.name]:t.name,stateCode:t.code})},options:p,disabled:!y||!(null!==C&&void 0!==C&&null!==(r=C.address)&&void 0!==r&&r.country)&&0===(null===p||void 0===p?void 0:p.length)})]}),Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",marginRight:"19px"},children:Object(k.jsx)(O.a,{type:"text",label:"ZIP Code/ Postal Code",name:"postalCode",value:(null===C||void 0===C||null===(c=C.address)||void 0===c?void 0:c.postalCode)||"",onChange:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(f.a)(t,e.target.value)){let t={...N};delete t[e.target.name],D({inputErr:t}),T({[e.target.name]:e.target.value})}else S({...C,address:{[e.target.name]:e.target.value}}),D({...N,[e.target.name]:"Invalid format or characters"})}(e,"validateZip"),errMssg:N.postalCode,required:!0,maxLength:"6",disabled:!y})}),Object(k.jsxs)("h3",{className:"disabled-form-section-header",children:[" Permanent Address (  ",Object(k.jsx)("input",{type:"checkbox",disabled:!y,onClick:e=>{let t=e.target.checked;M(t?{permanentStreet:C.address.addressLine1,permanentStreet1:C.address.addressLine2,permanentCity:C.address.city,permanentCountry:C.address.country,permanentCountryCode:C.address.countryCode,permanentState:C.address.state,permanentStateCode:C.address.stateCode,permanentPostalCode:C.address.postalCode}:{permanentStreet:"",permanentStreet1:"",permanentCity:"",permanentCountry:"",permanentCountryCode:"",permanentState:"",permanentStateCode:"",permanentPostalCode:""})}}),"  ",Object(k.jsx)("label",{style:{fontSize:"15px",marginBottom:"4px",color:"var(--secondary)"},children:"Same as Current Address"}),"  )"]}),Object(k.jsxs)("div",{style:{display:"flex",alignItems:"center",marginRight:"19px"},children:[Object(k.jsx)(O.a,{type:"text",label:"Street 1",name:"permanentStreet",value:null===C||void 0===C||null===(d=C.permanentAddress)||void 0===d?void 0:d.permanentStreet,onChange:H,maxLength:"200",required:!0,disabled:!y}),Object(k.jsx)(O.a,{type:"text",label:"Street 2",name:"permanentStreet1",value:null===C||void 0===C||null===(o=C.permanentAddress)||void 0===o?void 0:o.permanentStreet1,onChange:H,maxLength:"200",required:!0,disabled:!y}),Object(k.jsx)(O.a,{type:"text",label:"City",name:"permanentCity",value:(null===C||void 0===C||null===(u=C.permanentAddress)||void 0===u?void 0:u.permanentCity)||"",placeholder:"Select state for menu or enter city",onChange:H,maxLength:"40",autoComplete:"off",disabled:!y,required:!0,errMssg:N.permanentCity}),Object(k.jsx)(h.a,{label:"Country",name:"permanentCountry",value:(null===C||void 0===C||null===(b=C.permanentAddress)||void 0===b?void 0:b.permanentCountry)||"",onChange:e=>{const t=e.target.selectedOptions[0].index,a=t?L[e.target.selectedOptions[0].index-1]:{};M({permanentCountry:a.name,permanentCountryCode:a.code,permanentState:"",permanentStateCode:""}),E(t?ne.d(a.code):[])},options:L,disabled:!y,required:!0}),Object(k.jsx)(h.a,{label:"State/Province",name:"permanentState",value:(null===C||void 0===C||null===(m=C.permanentAddress)||void 0===m?void 0:m.permanentState)||"",onChange:e=>{const t=e.target.selectedOptions[0].index?P[e.target.selectedOptions[0].index-1]:{};M({[e.target.name]:t.name,permanentStateCode:t.code})},options:P,disabled:!y})]}),Object(k.jsx)("div",{style:{display:"flex",alignItems:"center",marginRight:"19px"},children:Object(k.jsx)(O.a,{type:"text",label:"ZIP Code",name:"permanentPostalCode",value:(null===C||void 0===C||null===(j=C.permanentAddress)||void 0===j?void 0:j.permanentPostalCode)||"",onChange:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(f.a)(t,e.target.value)){let t={...N};delete t[e.target.name],D({inputErr:t}),M({[e.target.name]:e.target.value})}else S({...C,permanentAddress:{[e.target.name]:e.target.value}}),D({...N,[e.target.name]:"Invalid format or characters"})}(e,"validateZip"),maxLength:"6",disabled:!y,required:!0,errMssg:N.permanentPostalCode})})]})};t.default=()=>{var e,t;const a=Object(l.useHistory)(),r=Object(n.b)(),v=Object(l.useParams)(),[p]=Object(s.useState)(i.a.getHeaders()),[h,O]=Object(s.useState)(!0),[x]=Object(s.useState)({}),{worker:f,basicInfo:y}=Object(n.c)((e=>e.worker)),{editEnabled:C}=Object(n.c)((e=>e.worker)),[N,S]=Object(s.useState)("1"),[w,P]=Object(s.useState)({}),[E,R]=Object(s.useState)(!1),[I]=Object(s.useState)("".concat(d.a.serverURL,"/worker")),[L,A]=Object(s.useState)(!1),{requiredErr:M}=Object(n.c)((e=>e.worker)),{changesMade:T}=Object(n.c)((e=>e.worker)),[H,z]=Object(s.useState)(!1),[ae,se]=Object(s.useState)(!0),[le,ne]=Object(s.useState)(!1),[ie,ce]=Object(s.useState)({}),[oe,me]=Object(s.useState)(null),[je,ve]=Object(s.useState)(!1),pe=Object(s.useMemo)((()=>i.a.getUserInfo()),[]),[he,Oe]=Object(s.useState)(pe.roles[0]),[xe,fe]=Object(s.useState)(!1);Object(s.useEffect)((()=>{i.a.hasAdminRole()&&fe(!0)}),[]);const ge=Object(s.useCallback)((()=>{r(Object(j.b)(!1)),i.a.logout()}),[r]);Object(s.useEffect)((()=>{i.a.isAdminOrOperations()&&z(!0)}),[]);const ye=Object(s.useCallback)((e=>r(Object(g.d)(e))),[r]),Ce=Object(s.useCallback)((e=>r(Object(g.h)(e))),[r]),Ne=Object(s.useCallback)((e=>r(Object(g.b)(e))),[r]),Se=Object(s.useCallback)((e=>r(Object(g.f)(e))),[r]),we=Object(s.useCallback)((e=>r(Object(g.i)(e))),[r]),ke=Object(s.useCallback)((e=>r(Object(q.l)(e))),[r]),De=Object(s.useCallback)((e=>r(Object(g.c)(e))),[r]),Pe=Object(s.useCallback)((async()=>{try{const e=v.workerId||f.id,t=await Object(V.d)(p,e);200===t.statusCode?(Ce(t.workerData),Ne(t.workerData),Se(t.workerData),we(t.workerData),ce(t.resumeData)):401===t.statusCode&&ge()}catch(e){console.log(e)}}),[p,v.workerId,f.id,Ce,Ne,Se,we,ge]);Object(s.useEffect)((()=>{Pe()}),[Pe]);const Ee=()=>{R(!1),P({})},Re=e=>{if(e.preventDefault(),Object.keys(x).length>0||Object.keys(M).length>0)A(!0);else{A(!1);const t={firstName:y.firstName,lastName:y.lastName,email:y.email,phoneNumber:y.phoneNumber};c.a.post("".concat(I,"/checks/").concat(y.id),t,{headers:p}).then((t=>{200===t.status&&Ie(e)})).catch((e=>{m.d(e),R(!0),P({title:"Error",details:"".concat(e.response.data),confirmValue:"Close"})}))}},Ie=async e=>{e.preventDefault();const t="isLoading",a={...y,ProjectInfo:{},client:{clientName:y.client.clientName,id:y.client.id}};try{const e=await Object(V.i)(p,a,y.id);200===e.statusCode?oe?Ae():(Me(),O(!0),Ne(e.data),Se(e.data.ProjectInfo),we(e.data.WorkerDetails),ce(e.data.resume),Z.b.success({content:"Worker updated!",messgKey:t,duration:5,style:{marginTop:"5%"}})):Z.b.error({content:"An error occurred while saving changes (".concat(e.statusCode,")"),messgKey:t,duration:10})}catch(l){var s;401===(null===(s=l.response)||void 0===s?void 0:s.status)&&ge()}},Le=()=>{T?(R(!0),P({title:"Confirm Discard Changes",details:"All changes will be discarded, proceed?",confirmValue:"Confirm",cancelValue:"Cancel"})):ye(!1)},Ae=async()=>{try{const e=new FormData;e.append("file",oe);let t={};if(ie){200===(await Object(V.b)(p,y.id)).status&&(t=await Object(V.h)(p,y.id,e))}else t=await Object(V.h)(p,y.id,e);201===t.status&&(ce(oe),Ne(t.data),ce(t.data.resume),Me(),Z.b.success({content:"Candidate updated!",duration:5,style:{marginTop:"5%"}}))}catch(t){var e;Z.b.error({content:"An error occurred while saving changes (".concat(null===(e=t.response)||void 0===e?void 0:e.status,")"),duration:10})}},Me=()=>{ye(!1),ve(!1)},Te=()=>{Ce(f),ye(!1),ve(!1),Pe(),R(!1),ke({}),A(!1),Pe(),me(null)};return Object(s.useEffect)((()=>{C&&+N>2&&S("1")}),[C,N]),Object(k.jsxs)(U.a,{children:[Object(k.jsx)(W.a,{breadcrumbs:Object(k.jsx)(b.a,{className:"header",crumbs:[{id:0,text:"Workers",onClick:()=>(Ne({}),Me(),ce({}),void a.push("/viewworkers"))},{id:1,text:" ".concat(null===f||void 0===f?void 0:f.firstName," ").concat(null===f||void 0===f?void 0:f.lastName),lastCrumb:!0}]}),actions:xe||he.workerPermission?Object(k.jsxs)(k.Fragment,{children:[C&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(F.a,{type:"button",handleClick:Re,className:"btn main submit marginX",children:"Save Changes"}),Object(k.jsx)(F.a,{type:"button",handleClick:Le,className:"btn main reset marginX",children:"Cancel"})]}),Object(k.jsxs)(G.a,{children:[Object(k.jsx)(F.a,{type:"button",handleClick:()=>{C?Te():(ye(!C),O(!h))},className:"btn icon marginX",title:"Edit",children:Object(k.jsx)(J.a,{})}),Object(k.jsx)(F.a,{type:"button",disabled:!0,className:"btn icon marginX",title:"Share",children:Object(k.jsx)(_.a,{})}),Object(k.jsx)(F.a,{type:"button",disabled:!0,className:"btn icon marginX",title:"Export Report",children:Object(k.jsx)(Q.a,{})})]})]}):""}),Object(k.jsx)(re.a,{onActive:()=>{se(!0)},onIdle:()=>{se(!1)},onLogout:()=>{ne(!0)}}),Object(k.jsxs)(X.a,{children:[L&&Object(k.jsx)("span",{className:"fixed-error-banner",children:"Resolve errors before submitting: ".concat(Object.keys(x).concat(Object.keys(M)).join(", "))}),Object(k.jsx)(o.a,{className:"x-small",children:Object(k.jsx)(u.a,{className:"column small",onSubmit:Re,cancel:Le,formEnabled:C,children:Object(k.jsx)(D,{logout:ge,handleRequiredCheck:e=>{if(""===e.target.value)ke({...M,[e.target.name]:"Field is required"});else{let t={...M};delete t[e.target.name],ke(t)}}})})}),Object(k.jsx)(o.a,{className:"medium",children:Object(k.jsx)(K.a,{activeKey:N,setActiveKey:e=>{S(e)},position:"top",items:[{key:"1",label:Object(k.jsxs)("span",{children:[Object(k.jsx)($.a,{})," Project History"]}),children:Object(k.jsx)(B,{resume:ie,enableReplaceResume:()=>{ve((e=>!e))},replaceResumeEnabled:je,uploadNewResume:e=>{if(e.target.files[0].size>1048576)ke({...x,[e.target.name]:"File is too big. Please select file with size < 1MB"}),e.target.value="";else{De(!0);let t={...x};delete t[e.target.name],ke(t);let a=e.target.files[0];me(a)}}})},{key:"2",label:Object(k.jsxs)("span",{children:[Object(k.jsx)(ee.a,{})," Address"]}),children:Object(k.jsx)(be,{})},{key:"3",label:Object(k.jsxs)("span",{children:[Object(k.jsx)(ee.a,{})," Visa Details"]}),children:Object(k.jsx)(de,{id:(null===v||void 0===v?void 0:v.workerId)||(null===f||void 0===f?void 0:f.id)}),disabled:C},{key:"4",label:Object(k.jsxs)("span",{children:[Object(k.jsx)(te.a,{})," Rate Card Details"]}),children:Object(k.jsx)(ue,{id:(null===v||void 0===v?void 0:v.workerId)||(null===f||void 0===f?void 0:f.id)}),disabled:C}]})})]}),Object(k.jsx)(Y.a,{openModal:E,type:(null===(e=w.title)||void 0===e?void 0:e.toLowerCase())||"",closePopUp:Ee,handleConfirmClose:null!==(t=w.title)&&void 0!==t&&t.includes("Confirm")?Te:Ee,confirmValue:w.confirmValue,cancelValue:w.cancelValue,message:w})]})}},806:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));a(807);var s=a(1);const l=e=>{let{name:t,location:a,...l}=e;return Object(s.jsxs)("div",{className:"client-details-container",children:[Object(s.jsx)("span",{children:t}),Object(s.jsx)("span",{children:a}),l.extra&&Object(s.jsx)("span",{children:l.extra})]})}},807:function(e,t,a){},810:function(e,t,a){"use strict";a.d(t,"g",(function(){return d})),a.d(t,"d",(function(){return o})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return m})),a.d(t,"i",(function(){return j})),a.d(t,"a",(function(){return v})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"h",(function(){return O}));var s=a(25),l=a(13),n=a(16),i=a.n(n);const r="".concat(s.a.serverURL,"/worker"),c=e=>{var t,a;if(!e.response)throw new Error;return 401===(null===(t=e.response)||void 0===t?void 0:t.status)&&l.a.logout(),{status:null===(a=e.response)||void 0===a?void 0:a.status,err:e}},d=async function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{const n=s||l?s?"?dropdownFilter=true&pageNo=".concat(t-1,"&pageSize=").concat(a,"&").concat(s):"?dropdownFilter=true&pageNo=".concat(t-1,"&pageSize=").concat(a):"?pageNo=".concat(t-1,"&pageSize=-1"),c=l?await i.a.put("".concat(r).concat(n),l,{headers:e}):await i.a.get("".concat(r).concat(n),{headers:e});if(200===c.status)return{data:c.data,totalItems:c.headers["total-elements"],status:c.status}}catch(n){return c(n)}},o=async(e,t)=>{try{const a=await i.a.get("".concat(s.a.serverURL,"/worker/").concat(t),{headers:e});let l={};return 200===a.status&&(l.workerData=a.data,l.workerProjectDetails=a.data,l.statusCode=a.status),l}catch(l){var a;return console.log(l),{statusCode:null===(a=l.response)||void 0===a?void 0:a.status}}},u=async function(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const a="".concat(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").concat(t);return await b(e,a)},b=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";try{const s=await i.a.get("".concat(r).concat(t).concat(a),{headers:e});let l={};return 200===s.status&&(l.tableData=(e=>e.map((e=>({...e}))))(s.data),l.totalItems=s.headers["total-elements"],l.statusCode=s.status),l}catch(n){var s;return 401===n.response.status&&l.a.logout(),{statusCode:null===(s=n.response)||void 0===s?void 0:s.status}}},m=async e=>{try{const t=await i.a.get("".concat(s.a.serverURL,"/worker?dropdownFilter=true"),{headers:e});let a={};return 200===t.status&&(a.tableData=t.data,a.totalItems=t.headers["total-elements"],a.statusCode=t.status),a}catch(a){var t;return console.log(a),{statusCode:null===(t=a.response)||void 0===t?void 0:t.status}}},j=async(e,t,a)=>{try{const l=await i.a.patch("".concat(s.a.serverURL,"/worker/").concat(a),t,{headers:e});if(200===l.status)return{statusCode:200,data:l.data};if(401===l.status)return{statusCode:401}}catch(l){return console.log(l),{statusCode:l.response.status}}},v=async(e,t)=>{try{const a=await i.a.all(t.map((t=>i.a.delete("".concat(r,"/").concat(t),{headers:e}))));if(a)return{status:a[0].status}}catch(a){return c(a)}},p=async(e,t,a)=>{try{const s=await i.a.get("".concat(r,"?archives=true&pageNo=").concat(t-1,"&pageSize=").concat(a),{headers:e});if(s)return{data:s.data.map((e=>{var t;return{id:e.id,cellOne:"".concat(e.firstName," ").concat(e.lastName),cellTwo:e.email,cellThree:e.phoneNumber,cellFour:null===e||void 0===e?void 0:e.status,cellFive:null===e||void 0===e?void 0:e.subContractorCompanyName,cellSix:null===(t=e.client)||void 0===t?void 0:t.clientName}})),totalItems:s.headers["total-elements"]}}catch(s){return c(s)}},h=async(e,t)=>{const a="/".concat(t,"/resume");try{return await i.a.delete("".concat(r).concat(a),{headers:e})}catch(n){var s;return 401===n.response.status&&l.a.logout(),{statusCode:null===(s=n.response)||void 0===s?void 0:s.status}}},O=async(e,t,a)=>{const s="/".concat(t,"/resume");try{return await i.a.post("".concat(r).concat(s),a,{headers:e})}catch(c){var n;return 401===c.response.status&&l.a.logout(),{statusCode:null===(n=c.response)||void 0===n?void 0:n.status}}}},814:function(e,t,a){"use strict";var s=a(2),l=a(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M296 250c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm184 144H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zm-48 458H208V148h560v320c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h264c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm440-88H728v-36.6c46.3-13.8 80-56.6 80-107.4 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 50.7 33.7 93.6 80 107.4V764H520c-8.8 0-16 7.2-16 16v152c0 8.8 7.2 16 16 16h352c8.8 0 16-7.2 16-16V780c0-8.8-7.2-16-16-16zM646 620c0-27.6 22.4-50 50-50s50 22.4 50 50-22.4 50-50 50-50-22.4-50-50zm180 266H566v-60h260v60z"}}]},name:"audit",theme:"outlined"},i=a(24),r=function(e,t){return l.createElement(i.a,Object(s.a)({},e,{ref:t,icon:n}))};t.a=l.forwardRef(r)},817:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(824);var s=a(312),l=a(1);const n=e=>{let{columns:t,data:a,...n}=e;const i=e=>{const a=[];return t.forEach(((t,s)=>{e[t.key]&&t.render?a.push(Object(l.jsx)("td",{children:t.render(e[t.key],e)},s)):e[t.key]&&!t.render?a.push(Object(l.jsx)("td",{children:e[t.key]},s)):a.push(Object(l.jsx)("td",{},s))})),a};return Object(l.jsx)("div",{className:n.className?"table-component-container ".concat(n.className):"table-component-container",children:Object(l.jsx)("div",{className:"actions-pagination-container",children:Object(l.jsxs)("div",{className:"small-table-container",children:[Object(l.jsxs)("table",{className:"small-table",children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{className:"small-table-headers",children:t.map(((e,t)=>Object(l.jsx)("th",{children:e.title},t)))})}),Object(l.jsx)("tbody",{children:a.length>0&&(null===a||void 0===a?void 0:a.map(((e,t)=>e&&Object(l.jsx)("tr",{className:"small-table-body",children:i(e)},t))))})]}),n.includePagination&&Object(l.jsx)(s.a,{total:n.totalItems,itemsPerPage:n.perPage,currentPage:n.currentPage,onPageChange:n.onPageChange,items:n.items})]})})})}},818:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(2),l=a(0),n=a(819),i=a(24),r=function(e,t){return l.createElement(i.a,Object(s.a)({},e,{ref:t,icon:n.a}))};var c=l.forwardRef(r),d=a(1);const o=()=>Object(d.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"var(--tertiary)"},children:[Object(d.jsx)(c,{style:{fontSize:"40px"}}),"No Data"]})},819:function(e,t,a){"use strict";t.a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zM136 256h188.5l119.6 114.4H748V444H238c-13 0-24.8 7.9-29.7 20L136 643.2V256zm635.3 512H159l103.3-256h612.4L771.3 768z"}}]},name:"folder-open",theme:"outlined"}},824:function(e,t,a){},857:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var s=a(0),l=a(11),n=a.n(l),i=a(817),r=a(818),c=a(312),d=a(1);const o=e=>{let{history:t,...a}=e;const[l,o]=Object(s.useState)([]);Object(s.useEffect)((()=>{if(t.length){const e=t.map((e=>({birthCountry:e.countryOfBirth,citizenOf:e.visaCountry,residesIn:e.visaCountryOfResidence,type:e.visaType,status:e.visaStatus,start:e.visaStartDate,expires:e.visaExpiryDate,applied:e.visaAppliedDate,user:e.user,updatedDate:e.updatedDate,id:e.visaHistoryId})));o(e)}}),[t]);const u=[{title:"Status",key:"status",render:e=>Object(d.jsxs)("span",{className:"small-table-status ".concat(e&&e.toLowerCase()),children:[e," "]})},{title:"Updated",key:"user",render:(e,t)=>Object(d.jsxs)("div",{className:"updatedon-container",children:[Object(d.jsx)("span",{children:e}),Object(d.jsx)("span",{children:null!==t&&void 0!==t&&t.updatedDate?n()(null===t||void 0===t?void 0:t.updatedDate).format("MM/DD/YYYY"):""})]})},{title:"Birth Country",key:"birthCountry"},{title:"Citizen of",key:"citizenOf"},{title:"Resides In",key:"residesIn"},{title:"Visa Type",key:"type"},{title:"Starts On",key:"start",render:e=>e?n()(e).format("MM/DD/YYYY"):""},{title:"Expires On",key:"expires",render:e=>e?n()(e).format("MM/DD/YYYY"):""},{title:"Applied On",key:"applied",render:e=>e?n()(e).format("MM/DD/YYYY"):""}];return t.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(i.a,{data:l,columns:u}),a.totalItems>5&&Object(d.jsx)(c.a,{total:a.totalItems,itemsPerPage:5,currentPage:a.currentPage,onPageChange:e=>{a.setCurrentPage(e)}})]}):Object(d.jsx)(r.a,{})}},891:function(e,t,a){"use strict";var s=a(2),l=a(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-792 72h752v120H136V232zm752 560H136V440h752v352zm-237-64h165c4.4 0 8-3.6 8-8v-72c0-4.4-3.6-8-8-8H651c-4.4 0-8 3.6-8 8v72c0 4.4 3.6 8 8 8z"}}]},name:"credit-card",theme:"outlined"},i=a(24),r=function(e,t){return l.createElement(i.a,Object(s.a)({},e,{ref:t,icon:n}))};t.a=l.forwardRef(r)},979:function(e,t,a){},980:function(e,t,a){}}]);