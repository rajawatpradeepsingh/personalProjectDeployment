(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[24],{1070:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(75),c=a(28),l=a(16),i=a.n(l),d=a(25),o=a(50),r=a(13),b=a(314),j=a(91),u=a(221),m=a(310),O=a(219),v=a(218),h=a(306),g=a(307),x=a(137),p=a(86),C=a(95),f=a(1);var N=()=>{const e=Object(c.b)(),{inputErr:t,basicInfo:a,editEnabled:n}=Object(c.c)((e=>e.client)),l=t=>e(Object(b.j)(t)),i=Object(s.useCallback)((t=>e(Object(b.c)(t))),[e]),d=function(s){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var c;c=!0,e(Object(b.d)(c));const d=Object(C.a)(n,s.target.value);let o;i({...a,[s.target.name]:s.target.value}),d?(o={...t},delete o[s.target.name],l(o)):l({...t,[s.target.name]:"Invalid format or characters"})};return Object(f.jsxs)("div",{className:"client-details-container",children:[Object(f.jsx)("h3",{className:"disabled-form-section-header",children:" Comments"}),Object(f.jsx)(p.a,{type:"text",label:"Comments",name:"comments",value:(null===a||void 0===a?void 0:a.comments)||"",onChange:e=>d(e),maxLength:"3000",charCount:"".concat(a.comments?3e3-a.comments.length:3e3," of 3000"),disabled:!n})]})},y=a(27),k=a(220),S=a(35),F=a(138);var w=e=>{var t,a,n,l,i,d,o,r;const j=Object(c.b)(),[u,m]=Object(s.useState)([]),[O,v]=Object(s.useState)([]),[h,g]=Object(s.useState)(!1),{editDisabled:x,editEnabled:p}=Object(c.c)((e=>e.client)),{inputErr:N,requiredErr:w}=Object(c.c)((e=>e.client)),{basicInfo:E}=Object(c.c)((e=>e.client)),[M,L]=Object(s.useState)([]),T=e=>j(Object(b.c)(e)),I=e=>j(Object(b.j)(e)),P=e=>j(Object(b.d)(e));Object(s.useEffect)((()=>{L(F.c())}),[]),Object(s.useEffect)((()=>{var e;if(null!==E&&void 0!==E&&null!==(e=E.address)&&void 0!==e&&e.countryCode){var t,a;m(F.d(E.address.countryCode));const e=F.b(E.address.countryCode);null!==(t=E.address)&&void 0!==t&&t.stateCode&&v(F.a(E.address.countryCode,E.address.stateCode)),g((null===(a=E.address)||void 0===a||!a.stateCode)&&e>100)}}),[E]);const A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;P(!0);const a=Object(C.a)(t,e.target.value);let s;var n;""!==e.target.value&&(s={...w},delete s[e.target.name],n=s,j(Object(b.l)(n))),T({...E,[e.target.name]:e.target.value}),a?(s={...N},delete s[e.target.name],I(s)):I({...N,[e.target.name]:"Invalid format or characters"})},D=e=>{P(!0),T({...E,address:{...E.address,...e}})},V=e=>{D({[e.target.name]:e.target.value})};return Object(f.jsxs)(s.Fragment,{children:[Object(f.jsx)("h3",{className:"disabled-form-section-header",children:"Basic Information"}),Object(f.jsx)(y.a,{type:"text",label:"Client Name",name:"clientName",value:null===E||void 0===E?void 0:E.clientName,onChange:e=>A(e,"validateName"),maxLength:"20",required:!0,errMssg:N.clientName,disabled:!x}),Object(f.jsx)("h3",{className:"disabled-form-section-header",children:"Contact"}),Object(f.jsx)(k.a,{phoneNumber:null===E||void 0===E?void 0:E.phoneNumber,handleChange:e=>{T({...E,phoneNumber:e})},label:"Phone Num.",disabled:!x,setError:e=>{if(e)I({...N,phoneNumber:!0});else{let e={...N};delete e.phoneNumber,I(e)}}}),Object(f.jsx)(y.a,{type:"text",label:"Website",name:"website",value:null===E||void 0===E?void 0:E.website,onChange:e=>A(e,"validateURL"),errMssg:N.website,disabled:!x}),Object(f.jsx)("h3",{className:"disabled-form-section-header",children:"Address"}),Object(f.jsx)(S.a,{label:"Country",name:"country",value:null===E||void 0===E||null===(t=E.address)||void 0===t?void 0:t.country,onChange:e=>{var t;const a=e.target.selectedOptions[0].index,s=a?M[e.target.selectedOptions[0].index-1]:{};let n=[];a&&(n=F.a(s.code)),D({country:s.name,countryCode:s.code,state:"",stateCode:"",city:""}),m(a?F.d(s.code):[]),v(a?F.a(s.code):[]),g(!!a&&(null===(t=n)||void 0===t?void 0:t.length)>100)},options:M,disabled:!p,required:!0}),Object(f.jsx)(S.a,{label:"State/Province",name:"state",value:(null===E||void 0===E||null===(a=E.address)||void 0===a?void 0:a.state)||"",onChange:e=>{const t=e.target.selectedOptions[0].index,a=t?u[e.target.selectedOptions[0].index-1]:{};let s=[];var n,c,l;t?(s=F.a(null===(n=E.address)||void 0===n?void 0:n.countryCode,a.code),g(!1)):(s=F.a(null===(c=E.address)||void 0===c?void 0:c.countryCode),g((null===(l=s)||void 0===l?void 0:l.length)>100));D({[e.target.name]:a.name,stateCode:a.code,city:""}),v(s)},options:u,disabled:!p||!(null!==E&&void 0!==E&&E.address.country)&&0===u.length}),O.length>0?Object(f.jsx)(S.a,{label:"City",name:"city",value:(null===E||void 0===E||null===(n=E.address)||void 0===n?void 0:n.city)||"",onChange:V,options:O,required:!0,guide:h?"Select a state/province":"",disabled:!p}):Object(f.jsx)(y.a,{type:"text",label:"City",name:"city",value:(null===E||void 0===E||null===(l=E.address)||void 0===l?void 0:l.city)||"",placeholder:"Select state for menu or enter city",onChange:e=>A(e,"validateName"),maxLength:"40",autoComplete:"off",disabled:!p,required:!0,errMssg:N.city}),Object(f.jsx)(y.a,{type:"text",label:"Address Line 1",name:"addressLine1",value:null===E||void 0===E||null===(i=E.address)||void 0===i?void 0:i.addressLine1,onChange:V,maxLength:"200",required:!0,disabled:!p}),Object(f.jsx)(y.a,{type:"text",label:"Address Line 2",name:"addressLine2",maxLength:"200",value:null===E||void 0===E||null===(d=E.address)||void 0===d?void 0:d.addressLine2,onChange:V,disabled:!p}),Object(f.jsx)(y.a,{type:"text",label:"Address Line 3",name:"addressLine3",maxLength:"200",value:null===E||void 0===E||null===(o=E.address)||void 0===o?void 0:o.addressLine3,onChange:V,disabled:!p}),Object(f.jsx)(y.a,{type:"text",label:"ZIP Code",name:"postalCode",value:null===E||void 0===E||null===(r=E.address)||void 0===r?void 0:r.postalCode,onChange:e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(C.a)(t,e.target.value)){let t={...N};delete t[e.target.name],I({inputErr:t}),D({[e.target.name]:e.target.value})}else T({...E,address:{[e.target.name]:e.target.value}}),I({...N,[e.target.name]:"Invalid format or characters"})}(e,"validateZip"),maxLength:"6",required:!0,errMssg:N.postalCode,disabled:!p})]})},E=a(11),M=a.n(E);a(821);var L=e=>{const t=Object(c.b)(),{inputErr:a,requiredErr:n}=Object(c.c)((e=>e.client)),{basicInfo:l}=Object(c.c)((e=>e.client)),{editEnabled:i}=Object(c.c)((e=>e.client)),d=e=>t(Object(b.j)(e)),o=Object(s.useCallback)((e=>t(Object(b.c)(e))),[t]),r=Object(s.useCallback)((e=>t(Object(b.g)(e))),[t]);Object(s.useEffect)((()=>{var e;Array.isArray(null===l||void 0===l?void 0:l.clientTaxes)&&r({...null===l||void 0===l?void 0:l.clientTaxes[(null===l||void 0===l||null===(e=l.clientTaxes)||void 0===e?void 0:e.length)-1]})}),[l,r]);const j=function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;var c;c=!0,t(Object(b.d)(c));const i=Object(C.a)(s,e.target.value);let r;""!==e.target.value&&(r={...n},delete r[e.target.name],(e=>{t(Object(b.l)(e))})(r)),o({...l,[e.target.name]:e.target.value}),i?(r={...a},delete r[e.target.name],d(r)):d({...a,[e.target.name]:"Invalid format or characters"})};return Object(f.jsxs)("div",{className:"client-details-container",children:[Object(f.jsx)("h3",{className:"disabled-form-section-header",children:"Fees"}),Object(f.jsxs)("div",{className:"client-details-form",children:[Object(f.jsx)(y.a,{type:"text",label:"VMS Fee %",name:"vmsFees",value:Number(null===l||void 0===l?void 0:l.vmsFees).toFixed(2),className:"NumAlign",onChange:e=>j(e,"validatePrecentage"),disabled:!i,errMssg:a.vmsFees}),Object(f.jsx)(y.a,{type:"text",label:"Admin Fee %",name:"adminFees",value:Number(null===l||void 0===l?void 0:l.adminFees).toFixed(2),className:"NumAlign",onChange:e=>j(e,"validatePrecentage"),disabled:!i,errMssg:a.adminFees}),Object(f.jsx)(y.a,{type:"text",label:"Rebate Fee %",name:"rebateFees",className:"NumAlign",value:Number(null===l||void 0===l?void 0:l.rebateFees).toFixed(2),onChange:e=>j(e,"validatePrecentage"),disabled:!i,errMssg:a.rebateFees})]}),Object(f.jsxs)("div",{className:"comment-dateTime-container",style:{width:"100%"},children:[Object(f.jsx)("span",{className:"dateTime",children:null===l||void 0===l?void 0:l.user}),Object(f.jsx)("span",{className:"dateTime",children:M()(null===l||void 0===l?void 0:l.localDateTime).format("DD MMM YYYY")})]})]})};a(977);const T=e=>{let{job:t}=e;const a=Object(n.useHistory)(),c=Object(s.useCallback)((e=>{a.push("/job/".concat(e))}),[a]);return Object(f.jsxs)("div",{className:"job-card",onClick:()=>c(t.id),children:[Object(f.jsxs)("h4",{className:"jobtitle",children:[t.jobTitle," ",Object(f.jsxs)("span",{children:["(",t.jobType," - ",t.workType,")"]})]}),Object(f.jsxs)("div",{className:"detail-container",children:[Object(f.jsx)("span",{className:"label",children:"Created"}),Object(f.jsx)("span",{className:"detail",children:M()(t.creationDate).format("MM/DD/YYYY")})]}),Object(f.jsxs)("div",{className:"detail-container",children:[Object(f.jsx)("span",{className:"label",children:"Description"}),Object(f.jsx)("span",{className:"detail",children:t.jobDescription})]})]})};var I=a(662),P=a(22),A=a(328),D=a(762);a(978);const V=e=>{let{id:t,...a}=e;const c=Object(s.useMemo)((()=>r.a.getHeaders()),[]),l=Object(n.useHistory)(),[o,b]=Object(s.useState)([]),[j,u]=Object(s.useState)(0),[m,O]=Object(s.useState)(1),[v,h]=Object(s.useState)({}),[g,x]=Object(s.useState)(!1),p=Object(s.useCallback)((async()=>{try{const e=await i.a.put("".concat(d.a.serverURL,"/jobopenings?dropdownFilter=true&pageNo=").concat(m-1,"&pageSize=",4),{clientId:"".concat(t)},{headers:c});e.data&&(u(e.headers["total-elements"]),b(e.data))}catch(e){console.log(e)}}),[c,m,t]);Object(s.useEffect)((()=>p()),[p,m]);const C=e=>{h(e),x(!0)};return Object(f.jsxs)("div",{className:"client-jobs-container",children:[Object(f.jsxs)("div",{className:"heading",children:[Object(f.jsx)("h3",{className:"client-jobs-header",children:"Job Openings"}),Object(f.jsxs)(P.a,{type:"button",className:"btn main",handleClick:()=>{l.push("/addjob")},children:[Object(f.jsx)(D.a,{className:"icon"}),"New Job Opening"]})]}),j<1&&Object(f.jsx)("span",{className:"no-jobs-text",children:"This client has no job openings"}),Object(f.jsx)("div",{className:"job-cards-container",children:o.map((e=>Object(f.jsx)(T,{job:e,onClick:C},e.id)))}),j>0&&Object(f.jsx)("div",{className:"pagination",children:Object(f.jsx)(I.a,{size:"small",current:m,total:j,onChange:e=>O(e),showTotal:j>1&&((e,t)=>Object(f.jsx)("span",{className:"pagination-total",children:"".concat(t[0],"-").concat(t[1]," of ").concat(e)}))})}),Object(f.jsx)(A.a,{selectedJobopening:v,setShowModal:x,showModal:g,viewOnly:!0})]})};var q=a(66),R=a(96),z=a(781),H=a(685),Y=a(783),J=a(763),U=a(786),X=a(2),K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},B=a(24),Z=function(e,t){return s.createElement(B.a,Object(X.a)({},e,{ref:t,icon:K}))};var W=s.forwardRef(Z),G=a(420),Q=a(152);t.default=()=>{var e,t,a;const l=Object(c.b)(),p=Object(n.useHistory)(),C=Object(n.useParams)(),y=Object(s.useMemo)((()=>r.a.getHeaders()),[]),k=Object(s.useMemo)((()=>"".concat(d.a.serverURL,"/clients")),[]),{basicInfo:S,client:F}=Object(c.c)((e=>e.client)),{changesMade:E}=Object(c.c)((e=>e.client)),{requiredErr:M}=Object(c.c)((e=>e.client)),{editEnabled:T,showComments:I}=Object(c.c)((e=>e.client)),[A,D]=Object(s.useState)(!0),[X,K]=Object(s.useState)("1"),[B]=Object(s.useState)({}),[Z,$]=Object(s.useState)(!1),[_,ee]=Object(s.useState)({}),[te,ae]=Object(s.useState)(!1),[se,ne]=Object(s.useState)(!0),[ce,le]=Object(s.useState)(!1),[ie,de]=Object(s.useState)(!1),oe=Object(s.useMemo)((()=>r.a.getUserInfo()),[]),[re,be]=Object(s.useState)(oe.roles[0]);Object(s.useEffect)((()=>{r.a.hasAdminRole()&&de(!0)}),[]);const je=Object(s.useCallback)((()=>{l(Object(j.b)(!1)),r.a.logout()}),[l]),ue=Object(s.useCallback)((e=>{l(Object(b.i)(e)),K("1")}),[l]),me=()=>{ae(!1),ee({})},Oe=()=>{ue(!1),l(Object(b.b)(!1)),l(Object(b.k)({}))},ve=Object(s.useCallback)((e=>l(Object(b.k)(e))),[l]),he=Object(s.useCallback)((e=>l(Object(b.e)(e))),[l]),ge=Object(s.useCallback)((e=>l(Object(b.c)(e))),[l]),xe=Object(s.useCallback)((e=>l(Object(b.f)(e))),[l]),pe=()=>{E?(ae(!0),ee({title:"Confirm Discard Changes",details:"All changes will be discarded, proceed?",confirmValue:"Confirm",cancelValue:"Cancel"})):ue(!1)};Object(s.useEffect)((()=>{I&&K("2")}),[I]);const Ce=Object(s.useCallback)((e=>l(Object(b.l)(e))),[l]),fe=e=>{if(e.preventDefault(),Object.keys(B).length>0||Object.keys(M).length>0)$(!0);else{$(!1);const t={clientName:S.clientName,webSite:S.webSite,phoneNumber:S.phoneNumber};i.a.post("".concat(k,"/checks/").concat(S.id),t,{headers:y}).then((t=>{200===t.status&&Ne(e)})).catch((e=>{o.d(e),ae(!0),ee({title:"Error",details:"".concat(e.response.data),confirmValue:"Close"})}))}},Ne=async e=>{e.preventDefault();const t="isLoading",{clientName:a,id:s,phoneNumber:n,website:c,comments:l,address:i,vmsFees:d,adminFees:o,rebateFees:r}=S,b={...S,client:{clientName:a,id:s,phoneNumber:n,website:c,comments:l,address:i,vmsFees:d,adminFees:o,rebateFees:r,user:S.user||oe.username}};Object(u.g)(y,b.client,b.client.id).then((e=>{200===e.statusCode?(Oe(),D(!0),ge(e.data),xe({clientTaxes:e.data.clientTaxes}),G.b.success({content:"Client updated!",messgKey:t,duration:5,style:{marginTop:"5%"}})):G.b.error({content:"An error occurred while saving changes (".concat(e.statusCode,")"),messgKey:t,duration:10})}))},ye=Object(s.useCallback)((async()=>{const e=(null===C||void 0===C?void 0:C.clientId)||(null===F||void 0===F?void 0:F.id);e&&Object(u.c)(y,e).then((e=>{200===e.statusCode?(ge(e.clientdata),xe({clientTaxes:e.clientdata.clientTaxes})):401===e.statusCode&&je()}))}),[null===C||void 0===C?void 0:C.clientId,null===F||void 0===F?void 0:F.id,y,je,ge,xe]);Object(s.useEffect)((()=>{ye()}),[ye]);const ke=()=>{he(F),ue(!1),ye(),ve({})};return Object(f.jsxs)(O.a,{children:[Object(f.jsx)(v.a,{breadcrumbs:Object(f.jsx)(h.a,{className:"header",crumbs:[{id:0,text:"Clients",onClick:()=>(Oe(),ue(!1),void p.push("/viewclients"))},{id:1,text:" ".concat(null===S||void 0===S?void 0:S.clientName," (").concat(null===S||void 0===S||null===(e=S.address)||void 0===e?void 0:e.city,")"),lastCrumb:!0}]}),actions:Object(f.jsxs)(f.Fragment,{children:[T&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(P.a,{type:"button",handleClick:fe,className:"btn main submit marginX",children:"Save Changes"}),Object(f.jsx)(P.a,{type:"button",handleClick:pe,className:"btn main reset marginX",children:"Cancel"})]}),Object(f.jsxs)(g.a,{children:[!r.a.hasRecruiterRole()&&(ie||re.managerPermission||re.candidatesPermission||re.clientPermission||re.interviewsPermission||re.jobOpeningsPermission||re.onBoardingsPermission||re.settingsPermission||re.suppliersPermission?Object(f.jsx)(P.a,{type:"button",handleClick:()=>{T?ke():(ue(!T),D(!A))},className:"btn icon marginX",title:"Edit",children:Object(f.jsx)(z.a,{})}):""),Object(f.jsx)(P.a,{type:"button",handleClick:()=>console.log("put onClick handler, but not an object"),disabled:!0,className:"btn icon marginX",title:"Share",children:Object(f.jsx)(H.a,{})}),Object(f.jsx)(P.a,{type:"button",handleClick:()=>console.log("put onClick handler, but not an object"),disabled:!0,className:"btn icon marginX",title:"Export Report",children:Object(f.jsx)(Y.a,{})})]})]})}),Object(f.jsx)(Q.a,{onActive:()=>{ne(!0)},onIdle:()=>{ne(!1)},onLogout:()=>{le(!0)}}),Object(f.jsxs)("div",{className:"multi-content-container",children:[Z&&Object(f.jsx)("span",{className:"fixed-error-banner",children:"Resolve errors before submitting: ".concat(Object.keys(B).concat(Object.keys(M)).join(", "))}),Object(f.jsx)(x.a,{className:"x-small",children:Object(f.jsx)(q.a,{className:"column small",onSubmit:fe,cancel:pe,formEnabled:T,children:Object(f.jsx)(w,{logout:je,handleRequiredCheck:e=>{if(""===e.target.value)Ce({...M,[e.target.name]:"Field is required"});else{let t={...M};delete t[e.target.name],Ce(t)}}})})}),Object(f.jsx)(x.a,{className:"medium",children:Object(f.jsx)(m.a,{activeKey:X,setActiveKey:e=>{K(e),l(Object(b.m)(!1))},items:[{key:"1",label:Object(f.jsxs)("span",{children:[Object(f.jsx)(J.a,{})," Details"]}),children:Object(f.jsx)(L,{})},{key:"2",label:Object(f.jsxs)("span",{children:[Object(f.jsx)(U.a,{})," Comments"]}),children:Object(f.jsx)(N,{})},{key:"3",label:Object(f.jsxs)("span",{children:[Object(f.jsx)(W,{})," Jobs"]}),children:Object(f.jsx)(V,{id:(null===C||void 0===C?void 0:C.clientId)||(null===F||void 0===F?void 0:F.id)})}]})})]}),Object(f.jsx)(R.a,{openModal:te,type:(null===(t=_.title)||void 0===t?void 0:t.toLowerCase())||"",closePopUp:me,handleConfirmClose:null!==(a=_.title)&&void 0!==a&&a.includes("Confirm")?ke:me,confirmValue:_.confirmValue,cancelValue:_.cancelValue,message:_})]})}},821:function(e,t,a){},977:function(e,t,a){},978:function(e,t,a){}}]);