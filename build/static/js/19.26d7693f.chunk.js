(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[19],{1069:function(e,t,a){"use strict";a.r(t),a.d(t,"ViewCandidates",(function(){return $}));var s=a(0),c=a(75),n=a(28),o=a(11),l=a.n(o),i=a(13),r=a(275),d=a(808),b=a(138),u=a(54),j=a(108),O=a(221),m=a(320),h=a(63),p=a(97),f=a(32),x=a(159),g=a(322),v=a(314),S=a(397),y=a(181),C=a(142),k=a(22),w=a(324),N=a(804),I=a(798),R=(a(158),a(1065)),E=(a(962),a(1));var F=e=>{const[t,a]=Object(s.useState)({0:0,40:40}),[c,n]=Object(s.useState)([0,0]);return Object(s.useEffect)((()=>{e.reset&&(n([0,0]),a({0:0,40:40}))}),[e.reset]),Object(E.jsx)("div",{className:"slider-container",children:Object(E.jsx)(R.a,{range:!0,value:c,marks:t,max:40,onChange:t=>{n(t),e.onChange(t),a({0:0,[t[0]]:t[0],[t[1]]:t[1],40:40})},className:"range-slider"})})};const D=e=>{const[t,a]=Object(s.useState)(!1),[c,n]=Object(s.useState)(0),[o,l]=Object(s.useState)(0);return Object(E.jsxs)("div",{className:"custom-filter-container",children:[Object(E.jsx)(F,{reset:t,onChange:e=>(e=>{a(!1),n(e[0]),l(e[1])})(e)}),Object(E.jsx)("hr",{className:"divider"}),Object(E.jsxs)("div",{className:"custom-filter-btns",children:[Object(E.jsx)("button",{type:"button",className:"custom-filter-clear",onClick:()=>{n(0),l(0),a(!0)},children:"Reset"}),Object(E.jsx)("button",{type:"button",className:"custom-filter-ok",onClick:()=>{c||o?e.setFilters({...e.filters,expFrom:c,expTo:o}):(()=>{let t={...e.filters};delete t.expFrom,delete t.expTo,e.setFilters(t)})()},children:"OK"})]})]})};var A=a(1063),T=a(1107);a(874);const L=e=>{const[t,a]=Object(s.useState)([]),c=()=>e.viewResume();Object(s.useEffect)((()=>{e.data.length&&a([{submissions:e.data[0].submissions,rejections:e.data[0].rejections,onboardings:e.data[0].onboardings,comment:e.data[1],resume:e.data[2].resume,source:e.data[2].source,id:e.data[2].id}])}),[e.data]);const n=[{title:"Resume",dataIndex:"resume",render:e=>e?Object(E.jsx)("span",{onClick:c,style:{fontSize:"24px",color:"var(--secondary)",cursor:"pointer"},children:Object(E.jsx)(T.a,{})}):null,key:"resume",width:70},{title:"Source",dataIndex:"source",key:"source"},{title:"Submissions",dataIndex:"submissions",render:e=>Object(E.jsx)("span",{style:{color:"var(--secondary)",fontWeight:600,fontSize:"16px"},children:e}),key:"submissions"},{title:"Onboardings",dataIndex:"onboardings",render:e=>Object(E.jsx)("span",{style:{color:"var(--success)",fontWeight:600,fontSize:"16px"},children:e}),key:"onboardings"},{title:"Rejections",dataIndex:"rejections",key:"rejections",render:e=>Object(E.jsx)("span",{style:{color:"var(--error)",fontWeight:600,fontSize:"16px"},children:e})},{title:"Latest Comment",dataIndex:"comment",key:"comment"},{title:"Update",dataIndex:"id",key:"id",fixed:"right",render:t=>Object(E.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(E.jsx)("span",{className:"updt-btns",style:{marginBottom:"5px"},onClick:()=>e.getCandidate(t,"open-comments"),children:"comment"}),Object(E.jsx)("span",{className:"updt-btns",onClick:()=>e.getCandidate(t,"open-activity"),children:"activity"})]})}];return Object(E.jsx)(A.a,{dataSource:t,columns:n,pagination:!1,rowKey:()=>"".concat(null===t||void 0===t?void 0:t.id,"_expanded")})};var P=a(610),M=a(215);const z=e=>{let{value:t,id:a,...c}=e;const[n,o]=Object(s.useState)(!1),[l,i]=Object(s.useState)(""),r=()=>{o(!1)};return Object(E.jsx)(P.a,{open:n,onOpenChange:e=>{o(e)},title:"Update Status",trigger:"click",content:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(M.a,{id:"status-select",value:l||t,size:"small",style:{width:"150px"},options:c.options.filter((e=>"Onboarded"!==e)).map((e=>({value:e,label:e}))),onChange:e=>i(e)}),Object(E.jsxs)("div",{className:"select-popover-btns",children:[Object(E.jsx)("button",{type:"button",className:"popover-btn cancel",onClick:r,children:"cancel"}),Object(E.jsx)("button",{type:"button",className:"popover-btn save",onClick:()=>{c.update(a,l),r()},children:"save"})]})]}),children:Object(E.jsx)("span",{className:"table-record-status ".concat(t&&t.toLowerCase().split(" ").join("")),children:t})})};var U=a(91),J=a(801);const K=e=>{let{open:t,setOpen:a,...c}=e;const o=Object(s.useMemo)((()=>i.a.getHeaders()),[]),l=Object(n.b)(),[d,b]=Object(s.useState)(1),[u,O]=Object(s.useState)(0),[m,h]=Object(s.useState)([]),p=Object(s.useCallback)((()=>{l(Object(U.b)(!1)),i.a.logout()}),[l]),f=Object(s.useCallback)((async()=>{try{const e=await Object(j.k)(o,d,10);200===e.statusCode?(h(e.tableData),O(e.totalItems)):401===e.statusCode&&p()}catch(e){console.log(e)}}),[d,o,p]);return Object(s.useEffect)((()=>{f()}),[d,o,f,t]),Object(E.jsx)(J.a,{openArchive:t,setOpenArchive:a,loadArchive:f,archive:m,archivedData:"candidates",headers:Object(r.b)(),totalItems:u,setArchiveCurrentPage:b,archiveCurrentPage:d})};var W=a(805),Y=a(25),_=(a(968),a(126));var H=e=>{const[t,a]=Object(s.useState)(""),[c,n]=Object(s.useState)("");Object(s.useEffect)((()=>{e.fileType.includes("xml")?n("xlsx"):n(e.fileType)}),[e.fileType,e.fileName]);const o=Object(s.useCallback)((async(t,s)=>{let c=JSON.parse(sessionStorage.getItem("headers"));try{const s=await fetch("".concat(Y.a.serverURL,"/").concat(e.module,"/").concat(t,"/").concat(e.file),{headers:c});if(s){let e=s.headers.get("Content-Disposition").split("filename=")[1].split(".");n(e[e.length-1])}const o=await s.blob();if(o){let e=window.URL.createObjectURL(o);a(e)}}catch(o){console.log(o)}}),[e.file,e.module]);Object(s.useEffect)((()=>{e.showFile&&c&&o(e.fileId,c)}),[e.showFile,c,o,e.fileId]);return e.showFile&&t?Object(E.jsx)(_.a,{open:e.showFile,close:()=>{n(""),a(""),e.close()},header:{text:e.header,buttons:e.downloadFile}}):null},V=a(341);const B=e=>{let{show:t,...a}=e;const[c,n]=Object(s.useState)(""),[o,l]=Object(s.useState)(""),[i,r]=Object(s.useState)("");Object(s.useEffect)((()=>{t&&(n(t.id),l(t.resume.resumeType.split("/")[1]),r(t.resume.resumeName))}),[t]);return Object(E.jsx)(H,{showFile:!!t,module:"candidates",file:"resume",fileId:c,fileType:o,fileName:i,header:"Resume",close:()=>{a.setShow(null),n(""),l(""),r("")},downloadFile:Object(E.jsx)(V.a,{candidateId:c,resume:null,displayType:"button"})})};var q=a(219),G=a(218),Q=a(420),X=a(762),Z=a(152);a(434);const $=()=>{const e=Object(c.useHistory)(),t=Object(n.b)(),[a]=Object(s.useState)(i.a.getHeaders()),[o,R]=Object(s.useState)(!1),[F,A]=Object(s.useState)(!1),[T,P]=Object(s.useState)(!1),[M,U]=Object(s.useState)([]),[J,Y]=Object(s.useState)(null),[_,H]=Object(s.useState)(!0),{candidatesList:V}=Object(n.c)((e=>e.candidate)),[$,ee]=Object(s.useState)(1),[te,ae]=Object(s.useState)(0),[se,ce]=Object(s.useState)(10),[ne,oe]=Object(s.useState)({}),[le,ie]=Object(s.useState)({}),re=Object(s.useMemo)((()=>i.a.getUserInfo()),[]),[de,be]=Object(s.useState)({}),ue=Object(n.c)((e=>e.dictionaries.candidateRoles)),[je,Oe]=Object(s.useState)([]),[me,he]=Object(s.useState)([]),[pe,fe]=Object(s.useState)([]),[xe,ge]=Object(s.useState)([]),[ve,Se]=Object(s.useState)(re.roles[0]),[ye,Ce]=(Object(c.useParams)(),Object(s.useState)(!0)),[ke,we]=Object(s.useState)(!1),[Ne,Ie]=Object(s.useState)(!1),[Re,Ee]=Object(s.useState)(!1),[Fe,De]=Object(s.useState)([]);Object(s.useEffect)((()=>{i.a.hasAdminRole()&&Ie(!0)}),[]);const Ae=Object(s.useCallback)((async()=>{if(Object.keys(le).length){const e=Object.keys(de)[0]?Object.keys(de)[0]:"",t=e?de[e]:"",s=await Object(j.m)(a,le,$,se,e||"id",t||"desc");return s&&H(!1),s}{const e=Object.keys(de)[0]?Object.keys(de)[0]:"",t=e?de[e]:"",s=await Object(j.l)(a,$,se,e,t);return s&&H(!1),s}}),[a,$,se,le,de]);Object(s.useEffect)((()=>{let e=!1;return Ae().then((e=>{200===e.statusCode&&(H(!1),De(e.tableData),ae(e.totalItems),t(Object(f.e)(e.tableData)))})).catch((t=>{e||console.log(t)})),()=>e=!0}),[a,$,se,le,F,Ae,t]);const Te=Object(s.useCallback)(((a,s)=>{"open-basic"===s&&t(Object(f.o)(!0)),"open-comments"===s&&t(Object(f.p)(!0)),"open-activity"===s&&t(Object(f.n)(!0)),e.push("/candidate/".concat(a))}),[t,e]),Le=Object(s.useCallback)(((e,s)=>{Object(j.p)(a,{status:s},e).then((e=>{200===e.statusCode&&Ae().then((e=>{200===e.statusCode&&(t(Object(f.e)(e.tableData)),ae(e.totalItems),H(!1),Q.b.success({content:"Status updated!",style:{marginTop:"5%"}}))})).catch((()=>{Q.b.error({content:"Something went wrong, please try again",style:{marginTop:"5%"}})}))})).catch((e=>{console.log(e)}))}),[t,Ae,a]),Pe=Object(s.useCallback)((async()=>{try{let e=JSON.parse(sessionStorage.getItem("headers"));const t=JSON.parse(sessionStorage.getItem("userInfo")),a=await Object(p.i)(e,t.id);Se(a.userdata.roles[0])}catch(e){console.log(e)}}),[]);Object(s.useEffect)((()=>{Pe()}),[Pe]);const Me=Object(s.useMemo)((()=>[{title:"Name",dataIndex:"fullName",sorter:!0,fixed:"left",width:170,render:(e,t)=>Object(E.jsx)(I.a,{onClick:()=>Te(t.id,"open-basic"),label:e,extra:l()(t.date).format("MM/DD/YYYY"),styleRed:!!t.isSuspicious}),key:"firstName"},{title:"Role",dataIndex:"role",key:"role",sorter:!0,filters:null===ue||void 0===ue?void 0:ue.map((e=>({text:e.value,value:e.value}))),filterSearch:!0,ellipsis:!0},{title:"Experience",dataIndex:"experience",key:"professionalInfo.totalExperience",sorter:!0,className:"algin",filterDropdown:()=>Object(E.jsx)(D,{setFilters:ie,filters:le})},{title:"Work Auth",dataIndex:"workAuth",key:"workAuthStatus",sorter:!0,width:105,filters:pe},{title:"Location",dataIndex:"location",key:"address.city",sorter:!0,ellipsis:!0},{title:"Relocate",dataIndex:"relocate",key:"relocate",sorter:!0,width:90},{title:"Status",dataIndex:"status",key:"status",sorter:!0,ellipsis:!0,filters:u.c.map((e=>({text:e,value:e}))),render:(e,t)=>Object(E.jsx)(z,{value:e,id:t.id,options:u.c,update:Le})},{title:"Expected CTC",dataIndex:"ctc",key:"professionalInfo.startExpCTC",sorter:!0,className:"algin"},{title:"Recruiter",dataIndex:"recruiterName",key:"recruiter.firstName",filterKey:"recruiterId",sorter:!0,filters:!o&&je}]),[le,pe,ue,je,o,Te,Le]);Object(s.useEffect)((()=>{ge(Me)}),[pe,ue,je,Me]),Object(s.useEffect)((()=>{i.a.hasRecruiterRole()&&R(!0)}),[]);const ze=Object(s.useCallback)((()=>{const e=i.a.hasAdminRole()?"admin":"business_dev_manager";Object(p.c)(a,e).then((e=>{if(200===e.statusCode){const t=e.recruiters.map((e=>({value:e.id,text:"".concat(null===e||void 0===e?void 0:e.firstName," ").concat(null===e||void 0===e?void 0:e.lastName)})));Oe(t)}}))}),[a]),Ue=Object(s.useCallback)((e=>{Object(h.c)(e).then((e=>{e&&t(Object(y.b)(e))})).catch((e=>{console.log(e)}))}),[t]),Je=Object(s.useCallback)((e=>{Object(h.g)(e).then((e=>{e&&fe(e.map((e=>({text:e.value,value:e.value}))))})).catch((e=>{console.log(e)}))}),[]);Object(s.useEffect)((()=>{Ue(a),Je(a)}),[a,Ue,Je]),Object(s.useEffect)((()=>!o&&ze()),[ze,o]);const Ke=Object(s.useCallback)((()=>{Object(O.a)(a).then((e=>{e.tableData&&t(Object(v.h)(e.tableData))})).catch((e=>{console.log(e)}))}),[a,t]),We=Object(s.useCallback)((()=>{Object(m.a)(a).then((e=>{e.data&&t(Object(g.f)(e.data))})).catch((e=>{console.log(e)}))}),[a,t]),Ye=Object(s.useCallback)((()=>{t(Object(S.b)(Object(b.c)()))}),[t]);Object(s.useEffect)((()=>Ke()),[Ke]),Object(s.useEffect)((()=>We()),[We]),Object(s.useEffect)((()=>Ye()),[Ye]);const _e=(e,t)=>{Y({id:e,resume:t})},He=(e,t,s)=>{Object(j.h)(a,e,t).then((t=>(t&&oe({...ne,[e]:t}),Object(E.jsx)(L,{data:[...t,{resume:s.resume,source:s.source,id:s.id}],viewResume:()=>_e(s.id,s.resume),getCandidate:Te})))).catch((e=>{console.log(e)}))};Object(s.useEffect)((()=>{V&&U(Object(C.a)(V))}),[V,le]);const Ve={onChange:(e,t)=>{he(e)},selectedRowKeys:me};return Object(E.jsxs)(q.a,{children:[Object(E.jsx)(G.a,{title:"Candidates",actions:Object(E.jsxs)(E.Fragment,{children:[Ne||ve.candidatePermission&&!0===!Re?Object(E.jsxs)(k.a,{type:"button",className:"btn main margin-left",handleClick:()=>{e.push("/addcandidate")},children:[Object(E.jsx)(X.a,{className:"icon"}),"Add Candidate"]}):"",Ne||ve.candidatePermission?Object(E.jsxs)(k.a,{type:"button",className:"btn main margin-left",handleClick:()=>{t(Object(x.b)(!0))},children:[Object(E.jsx)(X.a,{className:"icon"}),"Schedule Interview"]}):""]})}),Object(E.jsx)(Z.a,{onActive:()=>{Ce(!0)},onIdle:()=>{Ce(!1)},onLogout:()=>{we(!0)}}),Object(E.jsx)(N.a,{loading:_,expandedRowRender:e=>{if(ne[e.id]){const t=[...ne[e.id],{resume:e.resume,source:e.source,id:e.id}];return Object(E.jsx)(L,{data:t,viewResume:()=>_e(e.id,e.resume),getCandidate:Te})}He(e.id,e.comments,e)},data:Fe.map((e=>({...e,key:e.id}))),columns:xe,setColumns:ge,defaultColumns:Me,rowSelection:!(!Ne&&!ve.candidatePermission)&&Ve,total:te,setCurrentPage:ee,setPageSize:ce,setSort:be,setFilters:ie,filters:le,searchOptions:M,searchList:V,handleSearch:e=>{ie({...le,search:e})},openArchive:()=>A(!0),openReports:()=>P(!0),handleConfirmArchive:()=>{Object(j.a)(a,me).then((()=>{Ae().then((e=>{200===e.statusCode&&(he([]),t(Object(f.e)(e.tableData)),De(e.tableData),ae(e.totalItems),H(!1))})).catch((e=>{console.log(e)}))})).catch((e=>{console.log(e)}))},handleCancelArchiving:()=>{he([])},removeableColumns:Me.filter((e=>"Name"!==e.title&&e.title)).map((e=>e.title))}),Object(E.jsx)(B,{show:J,setShow:Y}),Object(E.jsx)(W.a,{showReportModal:T,setShowReportModal:P,individualReportName:"candidates",individualList:V,list:V.map((e=>({id:e.id,name:"".concat(e.fullName)}))),listLabel:"Candidates",filename:"candidate_report",tableFields:Object(r.e)(),pdfFormatter:d.a.candidatePDF,csvExcelFormatter:d.a.candidateCSVExcel}),Object(E.jsx)(K,{open:F,setOpen:A}),Object(E.jsx)(w.default,{})]})};t.default=$},798:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));a(800);var s=a(1);const c=e=>Object(s.jsxs)("div",{className:"tablelink-container",children:[Object(s.jsx)("span",{onClick:e.onClick,className:"tablelink ".concat(e.styleRed&&"red"," ").concat(e.className&&e.className),children:e.label}),e.extra&&Object(s.jsx)("span",{className:"table-link-extra",children:e.extra})]})},874:function(e,t,a){},962:function(e,t,a){},968:function(e,t,a){}}]);