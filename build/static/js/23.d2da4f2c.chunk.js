(this.webpackJsonpreactfrontend=this.webpackJsonpreactfrontend||[]).push([[23],{1040:function(e,a,t){"use strict";var s=t(2),c=t(0),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M885 780H165c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM400 325.7h73.9V664c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V325.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 171a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13z"}}]},name:"to-top",theme:"outlined"},i=t(24),r=function(e,a){return c.createElement(i.a,Object(s.a)({},e,{ref:a,icon:n}))};a.a=c.forwardRef(r)},1044:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t(75),n=t(28),i=t(344),r=t(25),l=t(13),d=t(96),o=t(22),b=t(801),h=t(137),j=t(343),m=t(313),O=t(306),u=t(236),p=t(762),v=t(426),g=(t(852),t(318)),P=t(219),x=t(218),E=t(1);a.default=()=>{const[e,a]=Object(s.useState)([]),[t,f]=Object(s.useState)({}),[C,y]=Object(s.useState)(0),R=r.a.ITEMS_PER_PAGE,[N,k]=Object(s.useState)(1),[A,w]=Object(s.useState)(!1),[D,S]=Object(s.useState)(!1),[I,M]=Object(s.useState)([]),[J,U]=Object(s.useState)(0),[L,T]=Object(s.useState)(1),[_]=Object(s.useState)(l.a.getHeaders()),B=Object(n.b)(),H=Object(c.useHistory)();console.log(e);const V=Object(s.useCallback)((()=>{Object(g.e)(_,N).then((e=>{if(e.data){let t=e.data.map(((e,a)=>({...e,index:a})));a(t),B(Object(i.b)(e.data)),y(e.headers["total-elements"])}}))}),[N,_,B]);Object(s.useEffect)((()=>{V()}),[V,I]);const W=Object(s.useCallback)((()=>{Object(g.c)(_,L).then((e=>{e.data&&(U(e.headers["total-elements"]),M(e.data.map((e=>({id:e.id,cellOne:e.roleName})))))}))}),[L,_,V]);Object(s.useEffect)((()=>{W()}),[W]);const z=Object(s.useCallback)((e=>{B(Object(i.c)(e)),H.push("/edit/".concat(e.id))}),[H,B]);return Object(E.jsxs)(P.a,{children:[Object(E.jsx)(x.a,{breadcrumbs:Object(E.jsx)(O.a,{className:"header",crumbs:[{id:0,text:"Users",onClick:()=>{return e="/viewusers",void H.push(e);var e}},{id:1,text:"Roles",lastCrumb:!0}]}),actions:Object(E.jsxs)(o.a,{type:"button",className:"btn main",handleClick:()=>{H.push("/addrole")},children:[Object(E.jsx)(p.a,{className:"icon"}),"Add Role"]})}),Object(E.jsxs)(h.a,{children:[Object(E.jsx)(j.a,{children:Object(E.jsx)("div",{className:"content-subactions",style:{justifyContent:"flex-start",width:"100%"},children:Object(E.jsxs)(o.a,{type:"button",name:"archive",className:"btn main outlined margin-right marginY",handleClick:()=>{W(),S(!0)},children:[Object(E.jsx)(v.a,{style:{marginRight:"5px"}}),"Archive"]})})}),Object(E.jsx)(m.a,{headers:[{label:"Archive"},{label:"Role Name"},{label:"Managers"},{label:"Candidates"},{label:"Client"},{label:"Worker"},{label:"JobOpenings"},{label:"Interviews"},{label:"Suppliers"},{label:"OnBoardings"},{label:"Settings"},{label:"Projects"},{label:"Timesheet"},{label:"WorkOrder"},{label:"Calendar"}],body:e?e.map((e=>({id:e.id,cells:[{id:0,data:Object(E.jsx)(u.a,{id:"".concat(e.id),name:e.roleName,checkedList:t,setCheckedList:f,disabled:!1})},{id:1,data:e.roleName,onClick:()=>z(e),className:"clickable"},{id:2,data:"".concat(e.manager?"Enabled":"Disabled","/").concat(e.managerPermission?"Editable":"ReadOnly")},{id:3,data:"".concat(e.candidates?"Enabled":"Disabled","/").concat(e.candidatePermission?"Editable":"ReadOnly")},{id:4,data:"".concat(e.client?"Enabled":"Disabled","/").concat(e.clientPermission?"Editable":"ReadOnly")},{id:5,data:"".concat(e.worker?"Enabled":"Disabled","/").concat(e.workerPermission?"Editable":"ReadOnly")},{id:6,data:"".concat(e.jobOpenings?"Enabled":"Disabled","/").concat(e.jobOpeningsPermission?"Editable":"ReadOnly")},{id:7,data:"".concat(e.interviews?"Enabled":"Disabled","/").concat(e.interviewsPermission?"Editable":"ReadOnly")},{id:8,data:"".concat(e.suppliers?"Enabled":"Disabled","/").concat(e.suppliersPermission?"Editable":"ReadOnly")},{id:9,data:"".concat(e.onBoardings?"Enabled":"Disabled","/").concat(e.onBoardingsPermission?"Editable":"ReadOnly")},{id:10,data:"".concat(e.settings?"Enabled":"Disabled","/").concat(e.settingsPermission?"Editable":"ReadOnly")},{id:11,data:"".concat(e.projects?"Enabled":"Disabled","/").concat(e.projectsPermission?"Editable":"ReadOnly")},{id:12,data:"".concat(e.timesheet?"Enabled":"Disabled","/").concat(e.timesheetPermission?"Editable":"ReadOnly")},{id:13,data:"".concat(e.workOrder?"Enabled":"Disabled","/").concat(e.workOrderPermission?"Editable":"ReadOnly")},{id:14,data:"".concat(e.calendar?"Enabled":"Disabled","/").concat(e.calendarPermission?"Editable":"ReadOnly")}]}))):[],disableArchive:!Object.keys(t).length,handleClickArchive:()=>w(!0),totalItems:C,perPage:R,currentPage:N,onPageChange:e=>k(e),items:"Roles",includePagination:!0}),Object(E.jsx)(d.a,{openModal:A,type:"warning",confirmValue:"Archive",cancelValue:"CANCEL",handleConfirmClose:()=>{Object(g.a)(_,t).then((()=>{f({}),V()})),w(!1)},closePopUp:()=>{w(!1),f({})},message:{title:"Warning",details:"Are you sure you want to archive selected role(s)?"}}),Object(E.jsx)(b.a,{openArchive:D,setOpenArchive:S,loadArchive:W,archive:I,archivedData:"roles",headers:["Role Name"],totalItems:J,setArchiveCurrentPage:T,archiveCurrentPage:L})]})]})}},801:function(e,a,t){"use strict";var s=t(0),c=t(16),n=t.n(c),i=t(25),r=t(22),l=t(312),d=t(425),o=t(1040),b=(t(820),t(13)),h=t(1);a.a=e=>{const[a,t]=Object(s.useState)(""),[c,j]=Object(s.useState)(!1),m=i.a.ITEMS_PER_PAGE,O=Object(s.useMemo)((()=>b.a.getUserInfo()),[]),[u,p]=Object(s.useState)(O.roles[0]),[v,g]=Object(s.useState)(!1);Object(s.useEffect)((()=>{b.a.hasAdminRole()&&g(!0)}),[]);const P=a=>{const s=[];for(const e in a)"id"!==e&&s.push(Object(h.jsx)("td",{className:"archive-cell",children:a[e]},"".concat(e)));return s.push(Object(h.jsx)("td",{className:"archive-cell restore-col",children:v||u.managerPermission||u.candidatesPermission||u.clientPermission||u.workerPermission||u.jobOpeningsPermission||u.timesheetPermission||u.projectsPermission||u.onboardingsPermission||u.workOrderPermission||u.calendarPermission||u.interviewersPermission||u.suppliersPermission?Object(h.jsxs)(r.a,{type:"button",name:"un-archive-btn",className:"btn main outlined",handleClick:()=>(a=>{let s=JSON.parse(sessionStorage.getItem("headers"));n.a.post("".concat(i.a.serverURL,"/").concat(e.archivedData,"/").concat(a),null,{headers:s}).then((a=>{200===a.status&&(t(a.data),j(!1),setTimeout((()=>t("")),3e3),e.loadArchive())})).catch((e=>{t(e.response.data),j(!0),setTimeout((()=>t("")),3e3),console.log(e)}))})(a.id),children:[Object(h.jsx)(o.a,{className:"icon"})," Restore"]}):""},"restore_".concat(a.id))),s};return Object(h.jsxs)(d.a,{width:"60%",title:Object(h.jsxs)("span",{children:["Archived"," ",e.archivedData.includes("job")?"Job Openings":e.archivedData.charAt(0).toUpperCase().concat(e.archivedData.substring(1))]}),footer:null,open:e.openArchive,onCancel:()=>e.setOpenArchive(!1),children:[a&&Object(h.jsx)("div",{className:"notification",children:Object(h.jsx)("p",{className:"notification-text ".concat(c?"err-response":""),children:a})}),Object(h.jsxs)("div",{id:"archive-modal-contents",children:[Object(h.jsxs)("table",{className:"archive-table",children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{className:"archive-table-headers",children:[e.headers&&e.headers.map((e=>Object(h.jsx)("th",{className:"archive-col-header",children:e},e))),Object(h.jsx)("th",{className:"sr-only cell-btn",children:"Restore"})]})}),Object(h.jsx)("tbody",{children:e.archive&&e.archive.map((e=>Object(h.jsx)("tr",{className:"archive-table-row",children:P(e)},e.id)))})]}),Object(h.jsx)("div",{className:"pagination-row",children:Object(h.jsx)(l.a,{total:e.totalItems,itemsPerPage:m,currentPage:e.archiveCurrentPage,onPageChange:a=>e.setArchiveCurrentPage(a),items:e.archivedData.includes("job")?"Job Opening":e.archivedData.charAt(0).toUpperCase().concat(e.archivedData.substring(1))})})]})]})}},820:function(e,a,t){},852:function(e,a,t){}}]);